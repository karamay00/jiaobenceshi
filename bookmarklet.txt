javascript:(function(){const oldLog=console.log;window.logs=[];console.log=function(...args){args.forEach(a=>{if(a&&typeof a==='object'&&!Array.isArray(a)&&a.constructor===Object){try{const json=JSON.stringify(a);window.logs.push(a);oldLog('[JSON]',json);}catch(e){oldLog('[无法序列化对象]',a);}}});oldLog.apply(console,args);};oldLog('%c已开启 console.log 对象捕获，数据保存在 window.logs','color: green');function parseDataAndDisplay(){if(!window.logs.length)return;const latestLog=window.logs[window.logs.length-1];if(latestLog.msg&&Array.isArray(latestLog.msg)){const periodResult=latestLog.msg[0];const periodMatch=periodResult.split('：');const period=periodMatch[0];const result=periodMatch[1];console.log(`第 ${period} 期结果: ${result}`);latestLog.msg.forEach(m=>{if(m.includes('(霸天虎)')){const match=m.split('[');const amountStr=match[1].split(']')[0];const amount=parseInt(amountStr,10);const winLose=amount>0?'赢了':amount<0?'输了':'平局';console.log(`霸天虎 ${winLose}, 金额: ${amount}`);}});}}setInterval(parseDataAndDisplay,5000);const panelHtml=`<div id="custom-panel" style="position: fixed; top: 20px; right: 20px; width: 200px; height: 350px; background: rgba(0, 0, 0, 0.7); color: white; padding: 10px; border-radius: 8px; z-index: 9999;"><h3>日志面板</h3><div id="log-content" style="overflow-y: auto; height: 220px;"></div><button id="clear-logs" style="width: 100%; padding: 5px; background: red; color: white; border: none; border-radius: 5px;">清理日志</button><button id="place-bet" style="width: 100%; padding: 5px; background: green; color: white; border: none; border-radius: 5px; margin-top: 10px;">下注</button></div>`;document.body.insertAdjacentHTML('beforeend',panelHtml);function updatePanel(){const logContent=document.getElementById('log-content');logContent.innerHTML='';if(window.logs.length){window.logs.forEach(log=>{const logDiv=document.createElement('div');logDiv.style.marginBottom='10px';logDiv.innerHTML=`<pre>${JSON.stringify(log,null,2)}</pre>`;logContent.appendChild(logDiv);});}}document.getElementById('clear-logs').addEventListener('click',()=>{window.logs=[];updatePanel();console.log('%c日志已清空','color: red');});document.getElementById('place-bet').addEventListener('click',()=>{const message='这里改成你想发送的消息';fetch('http://zzxxyy.shop/doXiazhu.html',{method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:new URLSearchParams({message:message})}).then(res=>res.json()).then(d=>{if(d.msg===null)d.msg=[];console.log(d);}).catch(error=>console.error('下注请求出错:',error));});setInterval(updatePanel,5000);})();
