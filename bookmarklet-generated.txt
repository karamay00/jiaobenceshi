javascript:(function%20()%20%7B%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20Console%20%E6%8B%A6%E6%88%AA%E5%92%8C%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E5%88%9D%E5%A7%8B%E5%8C%96%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%0A%2F%2F%20%E6%A3%80%E6%9F%A5%E9%9D%A2%E6%9D%BF%E6%98%AF%E5%90%A6%E5%B7%B2%E7%BB%8F%E5%AD%98%E5%9C%A8%0Aconst%20existingPanel%20%3D%20document.getElementById('custom-panel')%3B%0Aif%20(existingPanel)%20%7B%0A%20%20%2F%2F%20%E5%A6%82%E6%9E%9C%E9%9D%A2%E6%9D%BF%E5%B7%B2%E5%AD%98%E5%9C%A8%EF%BC%8C%E5%88%87%E6%8D%A2%E6%98%BE%E7%A4%BA%E7%8A%B6%E6%80%81%0A%20%20if%20(existingPanel.style.display%20%3D%3D%3D%20'none')%20%7B%0A%20%20%20%20existingPanel.style.display%20%3D%20'block'%3B%0A%20%20%20%20console.log('%25c%E9%9D%A2%E6%9D%BF%E5%B7%B2%E9%87%8D%E6%96%B0%E6%98%BE%E7%A4%BA'%2C%20'color%3A%20green')%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20console.log('%25c%E9%9D%A2%E6%9D%BF%E5%B7%B2%E5%AD%98%E5%9C%A8%EF%BC%8C%E6%97%A0%E9%9C%80%E9%87%8D%E5%A4%8D%E5%88%9B%E5%BB%BA'%2C%20'color%3A%20orange')%3B%0A%20%20%7D%0A%20%20return%3B%20%2F%2F%20%E9%80%80%E5%87%BA%E8%84%9A%E6%9C%AC%EF%BC%8C%E4%B8%8D%E9%87%8D%E5%A4%8D%E6%89%A7%E8%A1%8C%0A%7D%0A%0Aconst%20oldLog%20%3D%20console.log%3B%0Awindow.logs%20%3D%20%5B%5D%3B%20%2F%2F%20%E4%BF%9D%E5%AD%98%E6%8D%95%E8%8E%B7%E7%9A%84%E5%AF%B9%E8%B1%A1%E6%97%A5%E5%BF%97%0A%0Aconsole.log%20%3D%20function%20(...args)%20%7B%0A%20%20args.forEach(a%20%3D%3E%20%7B%0A%20%20%20%20%2F%2F%20%E5%8F%AA%E5%A4%84%E7%90%86%E5%AF%B9%E8%B1%A1%EF%BC%8C%E4%B8%8D%E5%A4%84%E7%90%86%20null%E3%80%81%E6%95%B0%E7%BB%84%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%0A%20%20%20%20if%20(a%20%26%26%20typeof%20a%20%3D%3D%3D%20'object'%20%26%26%20!Array.isArray(a)%20%26%26%20a.constructor%20%3D%3D%3D%20Object)%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20const%20json%20%3D%20JSON.stringify(a)%3B%0A%20%20%20%20%20%20%20%20window.logs.push(a)%3B%20%2F%2F%20%E4%BF%9D%E5%AD%98%E5%AF%B9%E8%B1%A1%E6%97%A5%E5%BF%97%0A%20%20%20%20%20%20%20%20oldLog('%5BJSON%5D'%2C%20json)%3B%20%2F%2F%20%E6%89%93%E5%8D%B0%20JSON%20%E6%A0%BC%E5%BC%8F%E7%9A%84%E6%97%A5%E5%BF%97%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20%E7%AB%8B%E5%8D%B3%E6%A3%80%E6%9F%A5%E6%98%AF%E5%90%A6%E5%8C%85%E5%90%AB%20url%20%E5%AD%97%E6%AE%B5%E5%B9%B6%E8%A7%A3%E6%9E%90%E6%B8%B8%E6%88%8F%E9%98%B6%E6%AE%B5%0A%20%20%20%20%20%20%20%20if%20(a.url)%20%7B%0A%20%20%20%20%20%20%20%20%20%20parseGamePhase(a)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20%E7%AB%8B%E5%8D%B3%E6%A3%80%E6%9F%A5%E6%98%AF%E5%90%A6%E6%98%AF%E5%BC%80%E5%A5%96%E6%B6%88%E6%81%AF%E5%B9%B6%E8%A7%A3%E6%9E%90%0A%20%20%20%20%20%20%20%20if%20(a.msg%20%26%26%20Array.isArray(a.msg)%20%26%26%20a.msg%5B0%5D%20%26%26%20a.msg%5B0%5D.includes('%E6%9C%9F%E7%BB%93%E6%9E%9C'))%20%7B%0A%20%20%20%20%20%20%20%20%20%20setTimeout(()%20%3D%3E%20parseDataAndDisplay(a)%2C%20100)%3B%20%2F%2F%20%E5%BB%B6%E8%BF%9F100ms%E8%A7%A3%E6%9E%90%EF%BC%8C%E7%A1%AE%E4%BF%9D%E5%B7%B2%E6%B7%BB%E5%8A%A0%E5%88%B0logs%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20%20%20oldLog('%5B%E6%97%A0%E6%B3%95%E5%BA%8F%E5%88%97%E5%8C%96%E5%AF%B9%E8%B1%A1%5D'%2C%20a)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D)%3B%0A%0A%20%20%2F%2F%20%E4%BF%9D%E6%8C%81%E5%8E%9F%E5%A7%8B%E8%BE%93%E5%87%BA%0A%20%20oldLog.apply(console%2C%20args)%3B%0A%7D%3B%0A%0AoldLog('%25c%E5%B7%B2%E5%BC%80%E5%90%AF%20console.log%20%E5%AF%B9%E8%B1%A1%E6%8D%95%E8%8E%B7%EF%BC%8C%E6%95%B0%E6%8D%AE%E4%BF%9D%E5%AD%98%E5%9C%A8%20window.logs'%2C%20'color%3A%20green')%3B%0A%0A%2F%2F%20%E5%88%9D%E5%A7%8B%E5%8C%96%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%0Awindow.gameHistory%20%3D%20%5B%5D%3B%20%20%20%20%20%20%2F%2F%20%E5%AD%98%E5%82%A8%E5%BC%80%E5%A5%96%E5%8E%86%E5%8F%B2%0Awindow.patternStates%20%3D%20%7B%7D%3B%20%20%20%20%2F%2F%20%E7%AE%A1%E7%90%86%E6%89%80%E6%9C%89%E7%89%8C%E8%B7%AF%E7%9A%84%E6%BF%80%E6%B4%BB%E7%8A%B6%E6%80%81%0A%0A%2F%2F%20%E4%BF%9D%E5%AD%98%E6%9C%80%E6%96%B0%E7%9A%84%E9%9C%B8%E5%A4%A9%E8%99%8E%E7%8A%B6%E6%80%81%0Awindow.bthStatus%20%3D%20%7B%0A%20%20period%3A%20''%2C%0A%20%20result%3A%20''%2C%0A%20%20resultNumber%3A%20''%2C%20%2F%2F%20%E7%BB%93%E6%9E%9C%E5%90%8E%E9%9D%A2%E7%9A%84%E6%95%B0%E5%AD%97%EF%BC%88%E5%A6%82%22%E9%96%926%22%E4%B8%AD%E7%9A%84%226%22%EF%BC%89%0A%20%20status%3A%20''%2C%0A%20%20winLose%3A%200%2C%0A%20%20totalScore%3A%200%2C%0A%20%20time%3A%20''%2C%0A%20%20gamePhase%3A%20''%20%2F%2F%20%E6%B8%B8%E6%88%8F%E9%98%B6%E6%AE%B5%EF%BC%9A%E5%8F%AF%E4%BB%A5%E4%B8%8B%E6%B3%A8%20%2F%20%E5%B7%B2%E5%B0%81%E7%9B%98%0A%7D%3B%0A%0A%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20%E9%85%8D%E7%BD%AE%E4%BF%9D%E5%AD%98%E5%92%8C%E5%8A%A0%E8%BD%BD%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%0A%2F%2F%20%E7%89%8C%E8%B7%AFID%E8%AE%A1%E6%95%B0%E5%99%A8%0Alet%20patternIdCounter%20%3D%200%3B%0A%0A%2F%2F%20%E4%BF%9D%E5%AD%98%E6%89%80%E6%9C%89%E7%89%8C%E8%B7%AF%E9%85%8D%E7%BD%AE%E5%88%B0%20localStorage%0Afunction%20savePatterns()%20%7B%0A%20%20const%20patterns%20%3D%20%5B%5D%3B%0A%0A%20%20%2F%2F%20%E9%81%8D%E5%8E%86%E6%89%80%E6%9C%89%E7%89%8C%E8%B7%AF%E7%8A%B6%E6%80%81%0A%20%20for%20(let%20patternId%20in%20window.patternStates)%20%7B%0A%20%20%20%20const%20state%20%3D%20window.patternStates%5BpatternId%5D%3B%0A%0A%20%20%20%20if%20(state.type%20%3D%3D%3D%20'preset')%20%7B%0A%20%20%20%20%20%20%2F%2F%20%E9%A2%84%E8%AE%BE%E7%BB%84%0A%20%20%20%20%20%20const%20inputRow%20%3D%20document.getElementById(%60input-row-%24%7BpatternId%7D%60)%3B%0A%20%20%20%20%20%20const%20checkbox%20%3D%20document.getElementById(%60enable-%24%7BpatternId%7D%60)%3B%0A%0A%20%20%20%20%20%20if%20(!inputRow)%20continue%3B%0A%0A%20%20%20%20%20%20const%20amounts%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20inputRow.children.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20amounts.push(parseInt(inputRow.children%5Bi%5D.value)%20%7C%7C%200)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20patterns.push(%7B%0A%20%20%20%20%20%20%20%20id%3A%20parseInt(patternId)%2C%0A%20%20%20%20%20%20%20%20type%3A%20'preset'%2C%0A%20%20%20%20%20%20%20%20configIndex%3A%20state.configIndex%20%7C%7C%200%2C%0A%20%20%20%20%20%20%20%20amounts%3A%20amounts%2C%0A%20%20%20%20%20%20%20%20enabled%3A%20checkbox%20%3F%20checkbox.checked%20%3A%20false%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%2F%2F%20%E8%87%AA%E5%AE%9A%E4%B9%89%E7%89%8C%E8%B7%AF%0A%20%20%20%20%20%20const%20inputRow%20%3D%20document.getElementById(%60input-row-custom-%24%7BpatternId%7D%60)%3B%0A%20%20%20%20%20%20const%20selectRow%20%3D%20document.getElementById(%60select-row-custom-%24%7BpatternId%7D%60)%3B%0A%20%20%20%20%20%20const%20checkbox%20%3D%20document.getElementById(%60enable-custom-%24%7BpatternId%7D%60)%3B%0A%0A%20%20%20%20%20%20if%20(!inputRow%20%7C%7C%20!selectRow)%20continue%3B%0A%0A%20%20%20%20%20%20const%20columns%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20inputRow.children.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20columns.push(%7B%0A%20%20%20%20%20%20%20%20%20%20amount%3A%20parseInt(inputRow.children%5Bi%5D.value)%20%7C%7C%200%2C%0A%20%20%20%20%20%20%20%20%20%20betType%3A%20selectRow.children%5Bi%5D.value%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20patterns.push(%7B%0A%20%20%20%20%20%20%20%20id%3A%20parseInt(patternId)%2C%0A%20%20%20%20%20%20%20%20type%3A%20'custom'%2C%0A%20%20%20%20%20%20%20%20columns%3A%20columns%2C%0A%20%20%20%20%20%20%20%20enabled%3A%20checkbox%20%3F%20checkbox.checked%20%3A%20false%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20const%20data%20%3D%20%7B%0A%20%20%20%20nextId%3A%20patternIdCounter%2C%0A%20%20%20%20patterns%3A%20patterns%0A%20%20%7D%3B%0A%0A%20%20localStorage.setItem('batian_patterns'%2C%20JSON.stringify(data))%3B%0A%20%20console.log('%5B%E4%BF%9D%E5%AD%98%E9%85%8D%E7%BD%AE%5D%20%E5%B7%B2%E4%BF%9D%E5%AD%98'%2C%20patterns.length%2C%20'%E4%B8%AA%E7%89%8C%E8%B7%AF')%3B%0A%7D%0A%0A%2F%2F%20%E4%BB%8E%20localStorage%20%E5%8A%A0%E8%BD%BD%E7%89%8C%E8%B7%AF%E9%85%8D%E7%BD%AE%0Afunction%20loadPatterns()%20%7B%0A%20%20try%20%7B%0A%20%20%20%20const%20saved%20%3D%20localStorage.getItem('batian_patterns')%3B%0A%20%20%20%20if%20(!saved)%20return%20null%3B%0A%0A%20%20%20%20const%20data%20%3D%20JSON.parse(saved)%3B%0A%20%20%20%20console.log('%5B%E5%8A%A0%E8%BD%BD%E9%85%8D%E7%BD%AE%5D%20%E6%89%BE%E5%88%B0'%2C%20data.patterns.length%2C%20'%E4%B8%AA%E7%89%8C%E8%B7%AF')%3B%0A%20%20%20%20return%20data%3B%0A%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20console.error('%5B%E5%8A%A0%E8%BD%BD%E9%85%8D%E7%BD%AE%5D%20%E8%A7%A3%E6%9E%90%E5%A4%B1%E8%B4%A5%3A'%2C%20e)%3B%0A%20%20%20%20return%20null%3B%0A%20%20%7D%0A%7D%0A%0A%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20UI%20%E9%9D%A2%E6%9D%BF%E5%92%8C%E7%BB%84%E4%BB%B6%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%0A%2F%2F%20%E5%B0%8F%E9%9D%A2%E6%9D%BF%E7%9A%84%20HTML%20%E7%BB%93%E6%9E%84%0Aconst%20panelHtml%20%3D%20%60%0A%20%20%3Cdiv%20id%3D%22custom-panel%22%20style%3D%22position%3A%20fixed%3B%20top%3A%2020px%3B%20right%3A%2020px%3B%20width%3A%20630px%3B%20height%3A%20600px%3B%20background%3A%20rgba(128%2C%20128%2C%20128%2C%200.6)%3B%20color%3A%20black%3B%20padding%3A%2015px%3B%20border-radius%3A%2010px%3B%20z-index%3A%209999%3B%20box-shadow%3A%200%204px%206px%20rgba(0%2C0%2C0%2C0.3)%3B%22%3E%0A%20%20%20%20%3Cdiv%20style%3D%22display%3A%20flex%3B%20justify-content%3A%20space-between%3B%20align-items%3A%20center%3B%20margin-bottom%3A%2010px%3B%20border-bottom%3A%202px%20solid%20%234CAF50%3B%20padding-bottom%3A%208px%3B%22%3E%0A%20%20%20%20%20%20%3Cbutton%20id%3D%22toggle-panel%22%20style%3D%22width%3A%2025px%3B%20height%3A%2025px%3B%20background%3A%20%232196F3%3B%20color%3A%20white%3B%20border%3A%20none%3B%20border-radius%3A%2050%25%3B%20cursor%3A%20pointer%3B%20font-size%3A%2016px%3B%20font-weight%3A%20bold%3B%20line-height%3A%201%3B%20padding%3A%200%3B%20flex-shrink%3A%200%3B%22%3E%E2%96%BC%3C%2Fbutton%3E%0A%20%20%20%20%20%20%3Ch3%20id%3D%22panel-title%22%20style%3D%22margin%3A%200%3B%20flex%3A%201%3B%20text-align%3A%20center%3B%22%3E%E9%9C%B8%E5%A4%A9%E8%99%8E%E9%9D%A2%E6%9D%BF%3C%2Fh3%3E%0A%20%20%20%20%20%20%3Cbutton%20id%3D%22close-panel%22%20style%3D%22width%3A%2025px%3B%20height%3A%2025px%3B%20background%3A%20%23f44336%3B%20color%3A%20white%3B%20border%3A%20none%3B%20border-radius%3A%2050%25%3B%20cursor%3A%20pointer%3B%20font-size%3A%2016px%3B%20font-weight%3A%20bold%3B%20line-height%3A%201%3B%20padding%3A%200%3B%20flex-shrink%3A%200%3B%22%3E%C3%97%3C%2Fbutton%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3Cdiv%20id%3D%22panel-content%22%3E%0A%20%20%20%20%20%20%3Cdiv%20id%3D%22bth-status%22%20style%3D%22background%3A%20rgba(255%2C255%2C255%2C0.08)%3B%20padding%3A%2010px%3B%20border-radius%3A%205px%3B%20margin-bottom%3A%2010px%3B%20font-size%3A%2013px%3B%20display%3A%20grid%3B%20grid-template-columns%3A%201fr%201fr%3B%20gap%3A%205px%3B%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%3E%F0%9F%8E%AE%20%3Cstrong%3E%E6%B8%B8%E6%88%8F%EF%BC%9A%3C%2Fstrong%3E%3Cspan%20id%3D%22game-phase%22%3E-%3C%2Fspan%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%3E%F0%9F%93%8A%20%3Cstrong%3E%E6%9C%9F%E6%95%B0%EF%BC%9A%3C%2Fstrong%3E%3Cspan%20id%3D%22period%22%3E-%3C%2Fspan%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%3E%F0%9F%8E%B2%20%3Cstrong%3E%E7%BB%93%E6%9E%9C%EF%BC%9A%3C%2Fstrong%3E%3Cspan%20id%3D%22game-result%22%3E-%3C%2Fspan%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%3E%F0%9F%92%B0%20%3Cstrong%3E%E7%8A%B6%E6%80%81%EF%BC%9A%3C%2Fstrong%3E%3Cspan%20id%3D%22status%22%3E-%3C%2Fspan%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%3E%F0%9F%93%88%20%3Cstrong%3E%E6%9C%AC%E6%9C%9F%EF%BC%9A%3C%2Fstrong%3E%3Cspan%20id%3D%22win-lose%22%3E-%3C%2Fspan%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%3E%F0%9F%8F%86%20%3Cstrong%3E%E6%80%BB%E5%88%86%EF%BC%9A%3C%2Fstrong%3E%3Cspan%20id%3D%22total-score%22%3E-%3C%2Fspan%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22grid-column%3A%201%20%2F%20-1%3B%20font-size%3A%2011px%3B%20color%3A%20black%3B%22%3E%F0%9F%95%90%20%3Cspan%20id%3D%22update-time%22%3E-%3C%2Fspan%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Cdiv%20style%3D%22display%3A%20flex%3B%20gap%3A%205px%3B%20margin-bottom%3A%2010px%3B%22%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22add-pattern%22%20style%3D%22flex%3A%201%3B%20padding%3A%208px%3B%20background%3A%20%232196F3%3B%20color%3A%20white%3B%20border%3A%20none%3B%20border-radius%3A%205px%3B%20cursor%3A%20pointer%3B%20font-weight%3A%20bold%3B%22%3E%E6%96%B0%E5%A2%9E%E7%89%8C%E8%B7%AF%E5%B9%B6%E4%B8%8B%E6%B3%A8%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22clear-history%22%20style%3D%22flex%3A%201%3B%20padding%3A%208px%3B%20background%3A%20%23FF9800%3B%20color%3A%20white%3B%20border%3A%20none%3B%20border-radius%3A%205px%3B%20cursor%3A%20pointer%3B%20font-weight%3A%20bold%3B%22%3E%E6%B8%85%E7%A9%BA%E7%89%8C%E8%B7%AF%3C%2Fbutton%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Cdiv%20id%3D%22pattern-container%22%20style%3D%22margin-top%3A%2010px%3B%20max-height%3A%20340px%3B%20overflow-y%3A%20auto%3B%20background%3A%20rgba(255%2C255%2C255%2C0.03)%3B%20padding%3A%205px%3B%20border-radius%3A%205px%3B%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20%3C%2Fdiv%3E%0A%60%3B%0A%0A%2F%2F%20%E6%8F%92%E5%85%A5%E9%9D%A2%E6%9D%BF%E5%88%B0%E9%A1%B5%E9%9D%A2%E4%B8%AD%0Adocument.body.insertAdjacentHTML('beforeend'%2C%20panelHtml)%3B%0A%0A%2F%2F%20%E9%9A%90%E8%97%8F%E6%95%B0%E5%AD%97%E8%BE%93%E5%85%A5%E6%A1%86%E7%9A%84%E4%B8%8A%E4%B8%8B%E7%AE%AD%E5%A4%B4%EF%BC%88spinner%EF%BC%89%E5%92%8C%E6%8A%98%E5%8F%A0%E9%9D%A2%E6%9D%BF%E6%A0%B7%E5%BC%8F%0Aconst%20style%20%3D%20document.createElement('style')%3B%0Astyle.textContent%20%3D%20%60%0A%20%20input%5Btype%3Dnumber%5D%3A%3A-webkit-inner-spin-button%2C%0A%20%20input%5Btype%3Dnumber%5D%3A%3A-webkit-outer-spin-button%20%7B%0A%20%20%20%20-webkit-appearance%3A%20none%3B%0A%20%20%20%20margin%3A%200%3B%0A%20%20%7D%0A%0A%20%20%2F*%20%E6%94%B6%E8%B5%B7%E7%8A%B6%E6%80%81%E7%9A%84%E6%A0%B7%E5%BC%8F%20*%2F%0A%20%20%23custom-panel.collapsed%20%7B%0A%20%20%20%20width%3A%2040px%20!important%3B%0A%20%20%20%20height%3A%2040px%20!important%3B%0A%20%20%20%20padding%3A%200%20!important%3B%0A%20%20%20%20border-radius%3A%2050%25%20!important%3B%0A%20%20%7D%0A%0A%20%20%23custom-panel.collapsed%20%23panel-content%2C%0A%20%20%23custom-panel.collapsed%20%23panel-title%2C%0A%20%20%23custom-panel.collapsed%20%23close-panel%20%7B%0A%20%20%20%20display%3A%20none%20!important%3B%0A%20%20%7D%0A%0A%20%20%23custom-panel.collapsed%20%3E%20div%3Afirst-child%20%7B%0A%20%20%20%20border%3A%20none%20!important%3B%0A%20%20%20%20margin%3A%200%20!important%3B%0A%20%20%20%20padding%3A%200%20!important%3B%0A%20%20%20%20justify-content%3A%20center%20!important%3B%0A%20%20%7D%0A%0A%20%20%23custom-panel.collapsed%20%23toggle-panel%20%7B%0A%20%20%20%20width%3A%2040px%20!important%3B%0A%20%20%20%20height%3A%2040px%20!important%3B%0A%20%20%20%20font-size%3A%2018px%20!important%3B%0A%20%20%7D%0A%60%3B%0Adocument.head.appendChild(style)%3B%0A%0A%2F%2F%20%E6%9B%B4%E6%96%B0%E9%9D%A2%E6%9D%BF%E5%86%85%E5%AE%B9%E6%98%BE%E7%A4%BA%0Afunction%20updatePanel()%20%7B%0A%20%20%2F%2F%20%E6%9B%B4%E6%96%B0%E9%9C%B8%E5%A4%A9%E8%99%8E%E7%8A%B6%E6%80%81%0A%20%20const%20bth%20%3D%20window.bthStatus%3B%0A%0A%20%20%2F%2F%20%E6%9B%B4%E6%96%B0%E6%B8%B8%E6%88%8F%E9%98%B6%E6%AE%B5%0A%20%20const%20gamePhaseSpan%20%3D%20document.getElementById('game-phase')%3B%0A%20%20gamePhaseSpan.textContent%20%3D%20bth.gamePhase%20%7C%7C%20'-'%3B%0A%20%20%2F%2F%20%E6%A0%B9%E6%8D%AE%E6%B8%B8%E6%88%8F%E9%98%B6%E6%AE%B5%E8%AE%BE%E7%BD%AE%E9%A2%9C%E8%89%B2%0A%20%20if%20(bth.gamePhase%20%3D%3D%3D%20'%E5%8F%AF%E4%BB%A5%E4%B8%8B%E6%B3%A8')%20%7B%0A%20%20%20%20gamePhaseSpan.style.color%20%3D%20'%234CAF50'%3B%0A%20%20%20%20gamePhaseSpan.style.fontWeight%20%3D%20'bold'%3B%0A%20%20%7D%20else%20if%20(bth.gamePhase%20%3D%3D%3D%20'%E5%B7%B2%E5%B0%81%E7%9B%98')%20%7B%0A%20%20%20%20gamePhaseSpan.style.color%20%3D%20'%23f44336'%3B%0A%20%20%20%20gamePhaseSpan.style.fontWeight%20%3D%20'bold'%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20gamePhaseSpan.style.color%20%3D%20'%23fff'%3B%0A%20%20%20%20gamePhaseSpan.style.fontWeight%20%3D%20'normal'%3B%0A%20%20%7D%0A%0A%20%20document.getElementById('period').textContent%20%3D%20bth.period%20%7C%7C%20'-'%3B%0A%20%20document.getElementById('game-result').textContent%20%3D%20(bth.result%20%7C%7C%20'-')%20%2B%20(bth.resultNumber%20%7C%7C%20'')%3B%0A%0A%20%20const%20statusSpan%20%3D%20document.getElementById('status')%3B%0A%20%20statusSpan.textContent%20%3D%20bth.status%20%7C%7C%20'-'%3B%0A%20%20%2F%2F%20%E6%A0%B9%E6%8D%AE%E7%8A%B6%E6%80%81%E8%AE%BE%E7%BD%AE%E9%A2%9C%E8%89%B2%0A%20%20if%20(bth.status%20%3D%3D%3D%20'%E8%B5%A2%E4%BA%86')%20%7B%0A%20%20%20%20statusSpan.style.color%20%3D%20'%234CAF50'%3B%0A%20%20%20%20statusSpan.style.fontWeight%20%3D%20'bold'%3B%0A%20%20%7D%20else%20if%20(bth.status%20%3D%3D%3D%20'%E8%BE%93%E4%BA%86')%20%7B%0A%20%20%20%20statusSpan.style.color%20%3D%20'%23f44336'%3B%0A%20%20%20%20statusSpan.style.fontWeight%20%3D%20'bold'%3B%0A%20%20%7D%20else%20if%20(bth.status%20%3D%3D%3D%20'%E6%9C%AA%E4%B8%8B%E6%B3%A8')%20%7B%0A%20%20%20%20statusSpan.style.color%20%3D%20'%23FFC107'%3B%0A%20%20%20%20statusSpan.style.fontWeight%20%3D%20'normal'%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20statusSpan.style.color%20%3D%20'%23fff'%3B%0A%20%20%20%20statusSpan.style.fontWeight%20%3D%20'normal'%3B%0A%20%20%7D%0A%0A%20%20const%20winLoseSpan%20%3D%20document.getElementById('win-lose')%3B%0A%20%20if%20(bth.winLose%20%3E%200)%20%7B%0A%20%20%20%20winLoseSpan.textContent%20%3D%20%60%2B%24%7Bbth.winLose%7D%60%3B%0A%20%20%20%20winLoseSpan.style.color%20%3D%20'%234CAF50'%3B%0A%20%20%7D%20else%20if%20(bth.winLose%20%3C%200)%20%7B%0A%20%20%20%20winLoseSpan.textContent%20%3D%20bth.winLose%3B%0A%20%20%20%20winLoseSpan.style.color%20%3D%20'%23f44336'%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20winLoseSpan.textContent%20%3D%20bth.winLose%20%7C%7C%20'-'%3B%0A%20%20%20%20winLoseSpan.style.color%20%3D%20'%23fff'%3B%0A%20%20%7D%0A%0A%20%20document.getElementById('total-score').textContent%20%3D%20bth.totalScore%20%7C%7C%20'-'%3B%0A%20%20document.getElementById('update-time').textContent%20%3D%20bth.time%20%7C%7C%20'-'%3B%0A%7D%0A%0A%2F%2F%20%E5%AE%9A%E6%97%B6%E6%9B%B4%E6%96%B0%E9%9D%A2%E6%9D%BF%E5%86%85%E5%AE%B9%0AsetInterval(updatePanel%2C%205000)%3B%20%2F%2F%20%E6%AF%8F5%E7%A7%92%E6%9B%B4%E6%96%B0%E4%B8%80%E6%AC%A1%E9%9D%A2%E6%9D%BF%0A%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20%E9%80%9A%E7%94%A8%20UI%20%E7%BB%84%E4%BB%B6%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%0A%2F%2F%20%E5%88%9B%E5%BB%BA%E6%95%B0%E5%AD%97%E8%BE%93%E5%85%A5%E6%A1%86%0Afunction%20createAmountInput(value%20%3D%20'')%20%7B%0A%20%20const%20input%20%3D%20document.createElement('input')%3B%0A%20%20input.type%20%3D%20'number'%3B%0A%20%20input.style.cssText%20%3D%20'width%3A%2040px%3B%20padding%3A%203px%3B%20font-size%3A%2011px%3B%20border-radius%3A%203px%3B%20border%3A%201px%20solid%20%23666%3B%20background%3A%20%23333%3B%20color%3A%20white%3B%20text-align%3A%20center%3B%20flex-shrink%3A%200%3B%20-moz-appearance%3A%20textfield%3B'%3B%0A%20%20input.placeholder%20%3D%20'0'%3B%0A%20%20if%20(value)%20input.value%20%3D%20value%3B%0A%20%20return%20input%3B%0A%7D%0A%0A%2F%2F%20%E5%88%9B%E5%BB%BA%E4%B8%8B%E6%8B%89%E8%8F%9C%E5%8D%95%EF%BC%88%E5%BA%84%2F%E9%97%B2%EF%BC%89%0Afunction%20createBetSelect(defaultValue%20%3D%20'%E5%BA%84'%2C%20isEditable%20%3D%20true)%20%7B%0A%20%20const%20select%20%3D%20document.createElement('select')%3B%0A%20%20select.style.cssText%20%3D%20'width%3A%2040px%3B%20padding%3A%203px%3B%20font-size%3A%2011px%3B%20border-radius%3A%203px%3B%20border%3A%201px%20solid%20%23ccc%3B%20color%3A%20white%3B%20flex-shrink%3A%200%3B'%3B%0A%20%20select.innerHTML%20%3D%20'%3Coption%20value%3D%22%E5%BA%84%22%3E%E5%BA%84%3C%2Foption%3E%3Coption%20value%3D%22%E9%96%92%22%3E%E9%96%92%3C%2Foption%3E'%3B%0A%20%20select.value%20%3D%20defaultValue%3B%0A%20%20select.style.background%20%3D%20defaultValue%20%3D%3D%3D%20'%E5%BA%84'%20%3F%20'red'%20%3A%20'blue'%3B%0A%0A%20%20if%20(!isEditable)%20%7B%0A%20%20%20%20select.disabled%20%3D%20true%3B%0A%20%20%7D%0A%0A%20%20select.onchange%20%3D%20function()%20%7B%0A%20%20%20%20this.style.background%20%3D%20this.value%20%3D%3D%3D%20'%E5%BA%84'%20%3F%20'red'%20%3A%20'blue'%3B%0A%20%20%7D%3B%0A%0A%20%20return%20select%3B%0A%7D%0A%0A%2F%2F%20%E5%88%9B%E5%BB%BA%E4%B8%80%E5%88%97%EF%BC%88%E5%8C%85%E5%90%AB%E8%BE%93%E5%85%A5%E6%A1%86%E5%92%8C%E5%A4%9A%E4%B8%AA%E4%B8%8B%E6%8B%89%E8%8F%9C%E5%8D%95%EF%BC%89%0Afunction%20createBettingColumn(selectValues%20%3D%20%5B'%E5%BA%84'%5D%2C%20isEditable%20%3D%20true)%20%7B%0A%20%20const%20column%20%3D%20document.createElement('div')%3B%0A%20%20column.style.cssText%20%3D%20'display%3A%20flex%3B%20flex-direction%3A%20column%3B%20gap%3A%203px%3B'%3B%0A%0A%20%20column.appendChild(createAmountInput())%3B%0A%0A%20%20selectValues.forEach(value%20%3D%3E%20%7B%0A%20%20%20%20column.appendChild(createBetSelect(value%2C%20isEditable))%3B%0A%20%20%7D)%3B%0A%0A%20%20return%20column%3B%0A%7D%0A%0A%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20%E8%87%AA%E5%8A%A8%E4%B8%8B%E6%B3%A8%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%0A%2F%2F%20%E4%B8%8B%E6%B3%A8%E5%8A%9F%E8%83%BD%0Afunction%20placeBet(message)%20%7B%0A%20%20fetch('http%3A%2F%2Fzzxxyy.shop%2FdoXiazhu.html'%2C%20%7B%0A%20%20%20%20method%3A%20'POST'%2C%0A%20%20%20%20headers%3A%20%7B%20'Content-Type'%3A%20'application%2Fx-www-form-urlencoded'%20%7D%2C%0A%20%20%20%20body%3A%20new%20URLSearchParams(%7B%0A%20%20%20%20%20%20message%3A%20message%0A%20%20%20%20%7D)%0A%20%20%7D)%0A%20%20.then(res%20%3D%3E%20res.json())%0A%20%20.then(d%20%3D%3E%20%7B%0A%20%20%20%20if%20(d.msg%20%3D%3D%3D%20null)%20d.msg%20%3D%20%5B%5D%3B%0A%20%20%20%20console.log('%5B%E4%B8%8B%E6%B3%A8%E7%BB%93%E6%9E%9C%5D'%2C%20d)%3B%0A%20%20%7D)%0A%20%20.catch(error%20%3D%3E%20console.error('%E4%B8%8B%E6%B3%A8%E8%AF%B7%E6%B1%82%E5%87%BA%E9%94%99%3A'%2C%20error))%3B%0A%7D%0A%0A%2F%2F%20%E5%8A%A8%E6%80%81%E8%8E%B7%E5%8F%96%E7%89%8C%E8%B7%AF%E7%9A%84%E6%80%BB%E5%88%97%E6%95%B0%0Afunction%20getTotalColumns(patternId%2C%20state)%20%7B%0A%20%20if%20(state.type%20%3D%3D%3D%20'preset')%20%7B%0A%20%20%20%20const%20inputRow%20%3D%20document.getElementById(%60input-row-%24%7BpatternId%7D%60)%3B%0A%20%20%20%20return%20inputRow%20%3F%20inputRow.children.length%20%3A%200%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20const%20inputRow%20%3D%20document.getElementById(%60input-row-custom-%24%7BpatternId%7D%60)%3B%0A%20%20%20%20return%20inputRow%20%3F%20inputRow.children.length%20%3A%200%3B%0A%20%20%7D%0A%7D%0A%0A%2F%2F%20%E6%9B%B4%E6%96%B0%E6%B8%B8%E6%88%8F%E5%8E%86%E5%8F%B2%0Afunction%20updateGameHistory(result)%20%7B%0A%20%20if%20(!result)%20return%3B%0A%20%20window.gameHistory.push(result)%3B%0A%20%20console.log(%60%5B%E5%8E%86%E5%8F%B2%E6%9B%B4%E6%96%B0%5D%20%E6%96%B0%E5%A2%9E%E7%BB%93%E6%9E%9C%3A%20%24%7Bresult%7D%2C%20%E5%BD%93%E5%89%8D%E5%8E%86%E5%8F%B2%3A%20%24%7Bwindow.gameHistory.join('%2C')%7D%60)%3B%0A%7D%0A%0A%2F%2F%20%E6%9B%B4%E6%96%B0%E7%89%8C%E8%B7%AFUI%E6%98%BE%E7%A4%BA%EF%BC%88%E6%BF%80%E6%B4%BB%E7%8A%B6%E6%80%81%E5%92%8C%E6%8C%87%E9%92%88%E4%BD%8D%E7%BD%AE%EF%BC%89%0Afunction%20updatePatternUI(patternId%2C%20state)%20%7B%0A%20%20let%20statusElement%3B%0A%0A%20%20if%20(state.type%20%3D%3D%3D%20'preset')%20%7B%0A%20%20%20%20%2F%2F%20%E9%A2%84%E8%AE%BE%E7%BB%84%EF%BC%9A%E5%9C%A8%E7%B4%AF%E8%AE%A1%E7%9B%88%E4%BA%8F%E5%90%8E%E9%9D%A2%E6%B7%BB%E5%8A%A0%E7%8A%B6%E6%80%81%E6%98%BE%E7%A4%BA%0A%20%20%20%20const%20profitSpan%20%3D%20document.getElementById(%60profit-preset-%24%7BpatternId%7D%60)%3B%0A%20%20%20%20if%20(!profitSpan)%20return%3B%0A%0A%20%20%20%20statusElement%20%3D%20profitSpan.parentElement.querySelector('.activation-status')%3B%0A%20%20%20%20if%20(!statusElement)%20%7B%0A%20%20%20%20%20%20statusElement%20%3D%20document.createElement('span')%3B%0A%20%20%20%20%20%20statusElement.className%20%3D%20'activation-status'%3B%0A%20%20%20%20%20%20statusElement.style.cssText%20%3D%20'margin-left%3A%2010px%3B%20font-size%3A%2011px%3B'%3B%0A%20%20%20%20%20%20profitSpan.parentElement.appendChild(statusElement)%3B%0A%20%20%20%20%7D%0A%20%20%7D%20else%20%7B%0A%20%20%20%20%2F%2F%20%E8%87%AA%E5%AE%9A%E4%B9%89%E7%89%8C%E8%B7%AF%EF%BC%9A%E5%9C%A8%E6%A0%87%E9%A2%98%E5%A4%84%E6%98%BE%E7%A4%BA%0A%20%20%20%20const%20patternDiv%20%3D%20document.getElementById(patternId)%3B%0A%20%20%20%20if%20(!patternDiv)%20return%3B%0A%0A%20%20%20%20const%20titleDiv%20%3D%20patternDiv.querySelector('div%3Afirst-child')%3B%0A%20%20%20%20statusElement%20%3D%20titleDiv.querySelector('.activation-status')%3B%0A%20%20%20%20if%20(!statusElement)%20%7B%0A%20%20%20%20%20%20statusElement%20%3D%20document.createElement('span')%3B%0A%20%20%20%20%20%20statusElement.className%20%3D%20'activation-status'%3B%0A%20%20%20%20%20%20statusElement.style.cssText%20%3D%20'margin-left%3A%2010px%3B%20font-size%3A%2011px%3B'%3B%0A%20%20%20%20%20%20titleDiv.appendChild(statusElement)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2F%20%E6%9B%B4%E6%96%B0%E6%98%BE%E7%A4%BA%E5%86%85%E5%AE%B9%0A%20%20if%20(state.isActivated)%20%7B%0A%20%20%20%20const%20rowInfo%20%3D%20state.type%20%3D%3D%3D%20'preset'%20%3F%20%60%20%E8%A1%8C%24%7Bstate.activeRowIndex%20%2B%201%7D%60%20%3A%20''%3B%0A%20%20%20%20statusElement.textContent%20%3D%20%60%5B%E5%B7%B2%E6%BF%80%E6%B4%BB%24%7BrowInfo%7D%20-%20%E7%AC%AC%24%7Bstate.currentPointer%7D%E5%88%97%5D%60%3B%0A%20%20%20%20statusElement.style.color%20%3D%20'%234CAF50'%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20statusElement.textContent%20%3D%20'%5B%E6%9C%AA%E6%BF%80%E6%B4%BB%5D'%3B%0A%20%20%20%20statusElement.style.color%20%3D%20'%23fff'%3B%0A%20%20%7D%0A%7D%0A%0A%2F%2F%20%E5%B0%9D%E8%AF%95%E6%BF%80%E6%B4%BB%E9%A2%84%E8%AE%BE%E7%BB%84%0Afunction%20tryActivatePresetGroup(groupId%2C%20state)%20%7B%0A%20%20const%20rowCount%20%3D%20state.rowCount%3B%0A%0A%20%20%2F%2F%20%E4%BB%8E%E4%B8%8A%E5%88%B0%E4%B8%8B%E9%81%8D%E5%8E%86%E6%AF%8F%E4%B8%80%E8%A1%8C%0A%20%20for%20(let%20row%20%3D%200%3B%20row%20%3C%20rowCount%3B%20row%2B%2B)%20%7B%0A%20%20%20%20const%20selectRow%20%3D%20document.getElementById(%60select-row-%24%7BgroupId%7D-%24%7Brow%7D%60)%3B%0A%20%20%20%20const%20inputRow%20%3D%20document.getElementById(%60input-row-%24%7BgroupId%7D%60)%3B%0A%0A%20%20%20%20if%20(!selectRow%20%7C%7C%20!inputRow)%20continue%3B%0A%0A%20%20%20%20%2F%2F%20%E6%89%BE%E5%88%B0%E8%AF%A5%E8%A1%8C%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%95%B0%E5%AD%97%E4%B8%8D%E4%B8%BA0%E7%9A%84%E5%88%97%EF%BC%88%E5%85%A5%E5%9C%BA%E7%82%B9%EF%BC%89%0A%20%20%20%20let%20entryPoint%20%3D%20-1%3B%0A%20%20%20%20for%20(let%20col%20%3D%200%3B%20col%20%3C%20inputRow.children.length%3B%20col%2B%2B)%20%7B%0A%20%20%20%20%20%20const%20amount%20%3D%20parseInt(inputRow.children%5Bcol%5D.value)%20%7C%7C%200%3B%0A%20%20%20%20%20%20if%20(amount%20!%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20entryPoint%20%3D%20col%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20%E5%A6%82%E6%9E%9C%E6%B2%A1%E6%9C%89%E5%85%A5%E5%9C%BA%E7%82%B9%EF%BC%8C%E8%B7%B3%E8%BF%87%E8%BF%99%E4%B8%80%E8%A1%8C%0A%20%20%20%20if%20(entryPoint%20%3D%3D%3D%20-1)%20continue%3B%0A%0A%20%20%20%20%2F%2F%20%E6%A3%80%E6%9F%A5%E5%8E%86%E5%8F%B2%E6%98%AF%E5%90%A6%E5%8C%B9%E9%85%8D%E5%85%A5%E5%9C%BA%E7%82%B9%E4%B9%8B%E5%89%8D%E7%9A%84%E6%89%80%E6%9C%89%E4%B8%8B%E6%8B%89%E8%8F%9C%E5%8D%95%E5%80%BC%0A%20%20%20%20const%20requiredHistory%20%3D%20%5B%5D%3B%0A%20%20%20%20for%20(let%20col%20%3D%200%3B%20col%20%3C%20entryPoint%3B%20col%2B%2B)%20%7B%0A%20%20%20%20%20%20requiredHistory.push(selectRow.children%5Bcol%5D.value)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20%E5%8E%86%E5%8F%B2%E9%95%BF%E5%BA%A6%E4%B8%8D%E5%A4%9F%EF%BC%8C%E8%B7%B3%E8%BF%87%0A%20%20%20%20if%20(window.gameHistory.length%20%3C%20requiredHistory.length)%20continue%3B%0A%0A%20%20%20%20%2F%2F%20%E5%AF%B9%E6%AF%94%E6%9C%80%E8%BF%91%E7%9A%84N%E6%9D%A1%E5%8E%86%E5%8F%B2%0A%20%20%20%20const%20recentHistory%20%3D%20window.gameHistory.slice(-requiredHistory.length)%3B%0A%20%20%20%20const%20isMatch%20%3D%20requiredHistory.every((val%2C%20idx)%20%3D%3E%20val%20%3D%3D%3D%20recentHistory%5Bidx%5D)%3B%0A%0A%20%20%20%20if%20(isMatch)%20%7B%0A%20%20%20%20%20%20%2F%2F%20%E6%BF%80%E6%B4%BB%E8%AF%A5%E8%A1%8C%0A%20%20%20%20%20%20state.isActivated%20%3D%20true%3B%0A%20%20%20%20%20%20state.justActivated%20%3D%20true%3B%20%2F%2F%20%E6%A0%87%E8%AE%B0%E4%B8%BA%E5%88%9A%E6%BF%80%E6%B4%BB%EF%BC%8C%E6%9C%AC%E6%9C%9F%E4%B8%8D%E6%8E%A8%E8%BF%9B%0A%20%20%20%20%20%20state.activeRowIndex%20%3D%20row%3B%0A%20%20%20%20%20%20state.currentPointer%20%3D%20entryPoint%3B%0A%20%20%20%20%20%20console.log(%60%5B%E6%BF%80%E6%B4%BB%5D%20%E9%A2%84%E8%AE%BE%E7%BB%84%20%24%7BgroupId%7D%20%E7%AC%AC%20%24%7Brow%7D%20%E8%A1%8C%E6%BF%80%E6%B4%BB%EF%BC%8C%E6%8C%87%E9%92%88%E5%9C%A8%E7%AC%AC%20%24%7BentryPoint%7D%20%E5%88%97%60)%3B%0A%20%20%20%20%20%20updatePatternUI(groupId%2C%20state)%3B%0A%20%20%20%20%20%20return%3B%20%2F%2F%20%E6%BF%80%E6%B4%BB%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%BB%A1%E8%B6%B3%E7%9A%84%E8%A1%8C%E5%90%8E%E9%80%80%E5%87%BA%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%0A%0A%2F%2F%20%E5%B0%9D%E8%AF%95%E6%BF%80%E6%B4%BB%E8%87%AA%E5%AE%9A%E4%B9%89%E7%89%8C%E8%B7%AF%0Afunction%20tryActivateCustomPattern(patternId%2C%20state)%20%7B%0A%20%20const%20inputRow%20%3D%20document.getElementById(%60input-row-custom-%24%7BpatternId%7D%60)%3B%0A%20%20const%20selectRow%20%3D%20document.getElementById(%60select-row-custom-%24%7BpatternId%7D%60)%3B%0A%0A%20%20if%20(!inputRow%20%7C%7C%20!selectRow)%20return%3B%0A%0A%20%20%2F%2F%20%E6%89%BE%E5%88%B0%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%95%B0%E5%AD%97%E4%B8%8D%E4%B8%BA0%E7%9A%84%E5%88%97%0A%20%20let%20entryPoint%20%3D%20-1%3B%0A%20%20for%20(let%20col%20%3D%200%3B%20col%20%3C%20inputRow.children.length%3B%20col%2B%2B)%20%7B%0A%20%20%20%20const%20amount%20%3D%20parseInt(inputRow.children%5Bcol%5D.value)%20%7C%7C%200%3B%0A%20%20%20%20if%20(amount%20!%3D%3D%200)%20%7B%0A%20%20%20%20%20%20entryPoint%20%3D%20col%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20if%20(entryPoint%20%3D%3D%3D%20-1)%20return%3B%0A%0A%20%20%2F%2F%20%E6%A3%80%E6%9F%A5%E5%8E%86%E5%8F%B2%E5%8C%B9%E9%85%8D%0A%20%20const%20requiredHistory%20%3D%20%5B%5D%3B%0A%20%20for%20(let%20col%20%3D%200%3B%20col%20%3C%20entryPoint%3B%20col%2B%2B)%20%7B%0A%20%20%20%20requiredHistory.push(selectRow.children%5Bcol%5D.value)%3B%0A%20%20%7D%0A%0A%20%20if%20(window.gameHistory.length%20%3C%20requiredHistory.length)%20return%3B%0A%0A%20%20const%20recentHistory%20%3D%20window.gameHistory.slice(-requiredHistory.length)%3B%0A%20%20const%20isMatch%20%3D%20requiredHistory.every((val%2C%20idx)%20%3D%3E%20val%20%3D%3D%3D%20recentHistory%5Bidx%5D)%3B%0A%0A%20%20if%20(isMatch)%20%7B%0A%20%20%20%20state.isActivated%20%3D%20true%3B%0A%20%20%20%20state.justActivated%20%3D%20true%3B%20%2F%2F%20%E6%A0%87%E8%AE%B0%E4%B8%BA%E5%88%9A%E6%BF%80%E6%B4%BB%EF%BC%8C%E6%9C%AC%E6%9C%9F%E4%B8%8D%E6%8E%A8%E8%BF%9B%0A%20%20%20%20state.currentPointer%20%3D%20entryPoint%3B%0A%20%20%20%20console.log(%60%5B%E6%BF%80%E6%B4%BB%5D%20%E8%87%AA%E5%AE%9A%E4%B9%89%E7%89%8C%E8%B7%AF%20%24%7BpatternId%7D%20%E6%BF%80%E6%B4%BB%EF%BC%8C%E6%8C%87%E9%92%88%E5%9C%A8%E7%AC%AC%20%24%7BentryPoint%7D%20%E5%88%97%60)%3B%0A%20%20%20%20updatePatternUI(patternId%2C%20state)%3B%0A%20%20%7D%0A%7D%0A%0A%2F%2F%20%E6%A3%80%E6%9F%A5%E6%89%80%E6%9C%89%E6%9C%AA%E6%BF%80%E6%B4%BB%E7%9A%84%E7%89%8C%E8%B7%AF%E6%98%AF%E5%90%A6%E6%BB%A1%E8%B6%B3%E6%BF%80%E6%B4%BB%E6%9D%A1%E4%BB%B6%0Afunction%20checkActivation()%20%7B%0A%20%20for%20(let%20patternId%20in%20window.patternStates)%20%7B%0A%20%20%20%20const%20state%20%3D%20window.patternStates%5BpatternId%5D%3B%0A%0A%20%20%20%20%2F%2F%20%E8%B7%B3%E8%BF%87%E5%B7%B2%E6%BF%80%E6%B4%BB%E7%9A%84%E7%89%8C%E8%B7%AF%0A%20%20%20%20if%20(state.isActivated)%20continue%3B%0A%0A%20%20%20%20%2F%2F%20%E6%A3%80%E6%9F%A5%E6%98%AF%E5%90%A6%E5%8B%BE%E9%80%89%0A%20%20%20%20const%20checkbox%20%3D%20state.type%20%3D%3D%3D%20'preset'%0A%20%20%20%20%20%20%3F%20document.getElementById(%60enable-%24%7BpatternId%7D%60)%0A%20%20%20%20%20%20%3A%20document.getElementById(%60enable-custom-%24%7BpatternId%7D%60)%3B%0A%20%20%20%20if%20(!checkbox%20%7C%7C%20!checkbox.checked)%20continue%3B%0A%0A%20%20%20%20%2F%2F%20%E5%B0%9D%E8%AF%95%E6%BF%80%E6%B4%BB%0A%20%20%20%20if%20(state.type%20%3D%3D%3D%20'preset')%20%7B%0A%20%20%20%20%20%20tryActivatePresetGroup(patternId%2C%20state)%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20tryActivateCustomPattern(patternId%2C%20state)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%0A%0A%2F%2F%20%E8%87%AA%E5%8A%A8%E4%B8%8B%E6%B3%A8%0Afunction%20autoPlaceBets()%20%7B%0A%20%20console.log('%5B%E8%87%AA%E5%8A%A8%E4%B8%8B%E6%B3%A8%5D%20%E5%BC%80%E5%A7%8B%E6%A3%80%E6%9F%A5%E6%89%80%E6%9C%89%E7%89%8C%E8%B7%AF...')%3B%0A%0A%20%20for%20(let%20patternId%20in%20window.patternStates)%20%7B%0A%20%20%20%20const%20state%20%3D%20window.patternStates%5BpatternId%5D%3B%0A%0A%20%20%20%20%2F%2F%20%E5%BF%85%E9%A1%BB%E5%B7%B2%E6%BF%80%E6%B4%BB%0A%20%20%20%20if%20(!state.isActivated)%20continue%3B%0A%0A%20%20%20%20%2F%2F%20%E5%BF%85%E9%A1%BB%E5%8B%BE%E9%80%89%0A%20%20%20%20const%20checkbox%20%3D%20state.type%20%3D%3D%3D%20'preset'%0A%20%20%20%20%20%20%3F%20document.getElementById(%60enable-%24%7BpatternId%7D%60)%0A%20%20%20%20%20%20%3A%20document.getElementById(%60enable-custom-%24%7BpatternId%7D%60)%3B%0A%20%20%20%20if%20(!checkbox%20%7C%7C%20!checkbox.checked)%20continue%3B%0A%0A%20%20%20%20%2F%2F%20%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E5%88%97%E7%9A%84%E9%87%91%E9%A2%9D%E5%92%8C%E4%B8%8B%E6%B3%A8%E7%B1%BB%E5%9E%8B%0A%20%20%20%20let%20amount%2C%20betType%3B%0A%0A%20%20%20%20if%20(state.type%20%3D%3D%3D%20'preset')%20%7B%0A%20%20%20%20%20%20const%20inputRow%20%3D%20document.getElementById(%60input-row-%24%7BpatternId%7D%60)%3B%0A%20%20%20%20%20%20const%20selectRow%20%3D%20document.getElementById(%60select-row-%24%7BpatternId%7D-%24%7Bstate.activeRowIndex%7D%60)%3B%0A%0A%20%20%20%20%20%20if%20(!inputRow%20%7C%7C%20!selectRow%20%7C%7C%20state.currentPointer%20%3E%3D%20inputRow.children.length)%20continue%3B%0A%0A%20%20%20%20%20%20amount%20%3D%20parseInt(inputRow.children%5Bstate.currentPointer%5D.value)%20%7C%7C%200%3B%0A%20%20%20%20%20%20betType%20%3D%20selectRow.children%5Bstate.currentPointer%5D.value%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20const%20inputRow%20%3D%20document.getElementById(%60input-row-custom-%24%7BpatternId%7D%60)%3B%0A%20%20%20%20%20%20const%20selectRow%20%3D%20document.getElementById(%60select-row-custom-%24%7BpatternId%7D%60)%3B%0A%0A%20%20%20%20%20%20if%20(!inputRow%20%7C%7C%20!selectRow%20%7C%7C%20state.currentPointer%20%3E%3D%20inputRow.children.length)%20continue%3B%0A%0A%20%20%20%20%20%20amount%20%3D%20parseInt(inputRow.children%5Bstate.currentPointer%5D.value)%20%7C%7C%200%3B%0A%20%20%20%20%20%20betType%20%3D%20selectRow.children%5Bstate.currentPointer%5D.value%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20%E9%87%91%E9%A2%9D%E4%B8%BA0%EF%BC%8C%E8%B7%B3%E8%BF%87%0A%20%20%20%20if%20(amount%20%3D%3D%3D%200)%20%7B%0A%20%20%20%20%20%20console.log(%60%5B%E8%B7%B3%E8%BF%87%E4%B8%8B%E6%B3%A8%5D%20%24%7BpatternId%7D%20%E7%AC%AC%20%24%7Bstate.currentPointer%7D%20%E5%88%97%E9%87%91%E9%A2%9D%E4%B8%BA0%60)%3B%0A%20%20%20%20%20%20continue%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20%E6%89%A7%E8%A1%8C%E4%B8%8B%E6%B3%A8%0A%20%20%20%20const%20message%20%3D%20%60%24%7BbetType%7D%24%7Bamount%7D%60%3B%0A%0A%20%20%20%20%2F%2F%20%E7%94%9F%E6%88%90%E7%89%8C%E8%B7%AF%E6%8F%8F%E8%BF%B0%0A%20%20%20%20let%20patternDesc%3B%0A%20%20%20%20if%20(state.type%20%3D%3D%3D%20'preset')%20%7B%0A%20%20%20%20%20%20patternDesc%20%3D%20%60%E9%A2%84%E8%AE%BE%E7%BB%84%24%7BparseInt(patternId)%20%2B%201%7D-%E8%A1%8C%24%7Bstate.activeRowIndex%20%2B%201%7D-%E7%AC%AC%24%7Bstate.currentPointer%7D%E5%88%97%60%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20const%20customId%20%3D%20patternId.replace('pattern-'%2C%20'')%3B%0A%20%20%20%20%20%20patternDesc%20%3D%20%60%E8%87%AA%E5%AE%9A%E4%B9%89%E7%89%8C%E8%B7%AF%24%7BcustomId%7D-%E7%AC%AC%24%7Bstate.currentPointer%7D%E5%88%97%60%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20console.log(%60%5B%E6%89%A7%E8%A1%8C%E4%B8%8B%E6%B3%A8%5D%20%24%7BpatternDesc%7D%20%E4%B8%8B%E6%B3%A8%3A%20%24%7Bmessage%7D%60)%3B%0A%20%20%20%20%2F%2F%20placeBet(message)%3B%20%2F%2F%20%E5%B7%B2%E6%B3%A8%E9%87%8A%EF%BC%9A%E6%B5%8B%E8%AF%95%E6%97%B6%E4%B8%8D%E5%AE%9E%E9%99%85%E5%8F%91%E9%80%81%E4%B8%8B%E6%B3%A8%E8%AF%B7%E6%B1%82%0A%20%20%7D%0A%7D%0A%0A%2F%2F%20%E6%8E%A8%E8%BF%9B%E6%8C%87%E9%92%88%E9%80%BB%E8%BE%91%0Afunction%20advancePointers(result)%20%7B%0A%20%20for%20(let%20patternId%20in%20window.patternStates)%20%7B%0A%20%20%20%20const%20state%20%3D%20window.patternStates%5BpatternId%5D%3B%0A%0A%20%20%20%20%2F%2F%20%E5%8F%AA%E5%A4%84%E7%90%86%E5%B7%B2%E6%BF%80%E6%B4%BB%E7%9A%84%E7%89%8C%E8%B7%AF%0A%20%20%20%20if%20(!state.isActivated)%20continue%3B%0A%0A%20%20%20%20%2F%2F%20%E8%B7%B3%E8%BF%87%E5%88%9A%E6%BF%80%E6%B4%BB%E7%9A%84%E7%89%8C%E8%B7%AF%EF%BC%88%E6%9C%AC%E6%9C%9F%E4%B8%8D%E6%8E%A8%E8%BF%9B%EF%BC%89%0A%20%20%20%20if%20(state.justActivated)%20%7B%0A%20%20%20%20%20%20state.justActivated%20%3D%20false%3B%20%2F%2F%20%E6%B8%85%E9%99%A4%E6%A0%87%E8%AE%B0%EF%BC%8C%E4%B8%8B%E6%9C%9F%E5%BC%80%E5%A7%8B%E6%AD%A3%E5%B8%B8%E6%8E%A8%E8%BF%9B%0A%20%20%20%20%20%20console.log(%60%5B%E8%B7%B3%E8%BF%87%E6%8E%A8%E8%BF%9B%5D%20%24%7BpatternId%7D%20%E5%88%9A%E6%BF%80%E6%B4%BB%EF%BC%8C%E6%9C%AC%E6%9C%9F%E4%B8%8D%E6%8E%A8%E8%BF%9B%E6%8C%87%E9%92%88%60)%3B%0A%20%20%20%20%20%20continue%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E6%8C%87%E9%92%88%E5%88%97%E7%9A%84%E4%B8%8B%E6%B3%A8%E7%B1%BB%E5%9E%8B%0A%20%20%20%20let%20expectedBetType%3B%0A%0A%20%20%20%20if%20(state.type%20%3D%3D%3D%20'preset')%20%7B%0A%20%20%20%20%20%20const%20selectRow%20%3D%20document.getElementById(%60select-row-%24%7BpatternId%7D-%24%7Bstate.activeRowIndex%7D%60)%3B%0A%20%20%20%20%20%20if%20(!selectRow%20%7C%7C%20state.currentPointer%20%3E%3D%20selectRow.children.length)%20continue%3B%0A%0A%20%20%20%20%20%20expectedBetType%20%3D%20selectRow.children%5Bstate.currentPointer%5D.value%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20const%20selectRow%20%3D%20document.getElementById(%60select-row-custom-%24%7BpatternId%7D%60)%3B%0A%20%20%20%20%20%20if%20(!selectRow%20%7C%7C%20state.currentPointer%20%3E%3D%20selectRow.children.length)%20continue%3B%0A%0A%20%20%20%20%20%20expectedBetType%20%3D%20selectRow.children%5Bstate.currentPointer%5D.value%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E5%8C%B9%E9%85%8D%0A%20%20%20%20if%20(result%20%3D%3D%3D%20expectedBetType)%20%7B%0A%20%20%20%20%20%20%2F%2F%20%E5%8C%B9%E9%85%8D%EF%BC%9A%E6%8C%87%E9%92%88%E5%8F%B3%E7%A7%BB%0A%20%20%20%20%20%20state.currentPointer%2B%2B%3B%0A%0A%20%20%20%20%20%20%2F%2F%20%E8%8E%B7%E5%8F%96%E6%80%BB%E5%88%97%E6%95%B0%0A%20%20%20%20%20%20const%20totalColumns%20%3D%20getTotalColumns(patternId%2C%20state)%3B%0A%0A%20%20%20%20%20%20%2F%2F%20%E5%BE%AA%E7%8E%AF%E5%9B%9E%E7%AC%AC%E4%B8%80%E5%88%97%0A%20%20%20%20%20%20if%20(state.currentPointer%20%3E%3D%20totalColumns)%20%7B%0A%20%20%20%20%20%20%20%20state.currentPointer%20%3D%200%3B%0A%20%20%20%20%20%20%20%20console.log(%60%5B%E6%8E%A8%E8%BF%9B%5D%20%24%7BpatternId%7D%20%E6%8C%87%E9%92%88%E5%BE%AA%E7%8E%AF%E5%9B%9E%E7%AC%AC%200%20%E5%88%97%60)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20console.log(%60%5B%E6%8E%A8%E8%BF%9B%5D%20%24%7BpatternId%7D%20%E6%8C%87%E9%92%88%E6%8E%A8%E8%BF%9B%E5%88%B0%E7%AC%AC%20%24%7Bstate.currentPointer%7D%20%E5%88%97%60)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20updatePatternUI(patternId%2C%20state)%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%2F%2F%20%E4%B8%8D%E5%8C%B9%E9%85%8D%EF%BC%9A%E5%8F%96%E6%B6%88%E6%BF%80%E6%B4%BB%0A%20%20%20%20%20%20console.log(%60%5B%E5%8F%96%E6%B6%88%E6%BF%80%E6%B4%BB%5D%20%24%7BpatternId%7D%20%E7%BB%93%E6%9E%9C%E4%B8%8D%E5%8C%B9%E9%85%8D%EF%BC%8C%E9%A2%84%E6%9C%9F%20%24%7BexpectedBetType%7D%EF%BC%8C%E5%AE%9E%E9%99%85%20%24%7Bresult%7D%60)%3B%0A%20%20%20%20%20%20state.isActivated%20%3D%20false%3B%0A%20%20%20%20%20%20state.activeRowIndex%20%3D%20-1%3B%0A%20%20%20%20%20%20state.currentPointer%20%3D%20-1%3B%0A%20%20%20%20%20%20updatePatternUI(patternId%2C%20state)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%0A%0A%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20%E9%A2%84%E8%AE%BE%E7%89%8C%E8%B7%AF%E7%AE%A1%E7%90%86%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%0A%2F%2F%20%E9%A2%84%E8%AE%BE%E7%89%8C%E8%B7%AF%E9%85%8D%E7%BD%AE%EF%BC%88%E5%AE%9A%E4%B9%891%E7%BB%84%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F%EF%BC%8C%E5%88%9B%E5%BB%BA%E6%97%B6%E4%BC%9A%E8%87%AA%E5%8A%A8%E5%A4%8D%E5%88%B6%EF%BC%89%0Aconst%20PRESET_CONFIGS%20%3D%20%5B%0A%20%20%7B%0A%20%20%20%20name%3A%20'%E9%A2%84%E8%AE%BE%E7%BB%841'%2C%0A%20%20%20%20patterns%3A%20%5B%0A%20%20%20%20%20%20%5B'%E5%BA%84'%2C'%E5%BA%84'%2C'%E9%96%92'%5D%2C%0A%20%20%20%20%20%20%5B'%E5%BA%84'%2C'%E9%96%92'%2C'%E5%BA%84'%5D%2C%0A%20%20%20%20%20%20%5B'%E9%96%92'%2C'%E5%BA%84'%2C'%E5%BA%84'%5D%0A%20%20%20%20%5D%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20name%3A%20'%E9%A2%84%E8%AE%BE%E7%BB%842'%2C%0A%20%20%20%20patterns%3A%20%5B%0A%20%20%20%20%20%20%5B'%E5%BA%84'%2C'%E5%BA%84'%2C'%E5%BA%84'%2C'%E9%96%92'%5D%2C%0A%20%20%20%20%20%20%5B'%E5%BA%84'%2C'%E5%BA%84'%2C'%E9%96%92'%2C'%E5%BA%84'%5D%2C%0A%20%20%20%20%20%20%5B'%E5%BA%84'%2C'%E9%96%92'%2C'%E5%BA%84'%2C'%E5%BA%84'%5D%2C%0A%20%20%20%20%20%20%5B'%E9%96%92'%2C'%E5%BA%84'%2C'%E5%BA%84'%2C'%E5%BA%84'%5D%0A%20%20%20%20%5D%0A%20%20%7D%0A%5D%3B%0A%0A%2F%2F%20%E5%88%9B%E5%BB%BA%E9%A2%84%E8%AE%BE%E7%89%8C%E8%B7%AF%E7%BB%84%0Afunction%20createPresetPatternGroup(config%2C%20initialData%20%3D%20null)%20%7B%0A%20%20const%20%7B%20name%2C%20patterns%20%7D%20%3D%20config%3B%0A%20%20const%20groupId%20%3D%20initialData%20%3F%20initialData.id%20%3A%20patternIdCounter%2B%2B%3B%0A%20%20if%20(!initialData)%20patternIdCounter%20%3D%20groupId%20%2B%201%3B%0A%20%20const%20container%20%3D%20document.getElementById('pattern-container')%3B%0A%0A%20%20const%20rowCount%20%3D%20patterns.length%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E8%A1%8C%E6%95%B0%0A%20%20const%20basePatternColCount%20%3D%20patterns%5B0%5D.length%3B%20%2F%2F%20%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%88%97%E6%95%B0%0A%0A%20%20%2F%2F%20%E8%87%AA%E5%8A%A8%E5%A4%8D%E5%88%B6%E4%B8%80%E6%AC%A1%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F%0A%20%20const%20duplicatedPatterns%20%3D%20patterns.map(row%20%3D%3E%20%5B...row%2C%20...row%5D)%3B%0A%20%20const%20initialColCount%20%3D%20duplicatedPatterns%5B0%5D.length%3B%20%2F%2F%20%E5%88%9D%E5%A7%8B%E5%88%97%E6%95%B0%EF%BC%88%E5%B7%B2%E5%A4%8D%E5%88%B6%EF%BC%89%0A%0A%20%20%2F%2F%20%E5%88%9B%E5%BB%BA%E7%BB%84%E5%AE%B9%E5%99%A8%0A%20%20const%20groupDiv%20%3D%20document.createElement('div')%3B%0A%20%20groupDiv.id%20%3D%20%60preset-group-%24%7BgroupId%7D%60%3B%0A%20%20groupDiv.style.cssText%20%3D%20'margin-bottom%3A%208px%3B%20background%3A%20rgba(0%2C%200%2C%200%2C%200.5)%3B%20padding%3A%2010px%3B%20border-radius%3A%205px%3B'%3B%0A%0A%20%20%2F%2F%20%E5%88%9B%E5%BB%BA%E8%A1%A8%E6%A0%BC%E5%AE%B9%E5%99%A8%0A%20%20const%20tableContainer%20%3D%20document.createElement('div')%3B%0A%20%20tableContainer.style.cssText%20%3D%20'display%3A%20flex%3B%20flex-direction%3A%20column%3B%20gap%3A%203px%3B%20overflow-x%3A%20auto%3B'%3B%0A%0A%20%20%2F%2F%20%E7%AC%AC1%E8%A1%8C%EF%BC%9A%E6%95%B0%E5%AD%97%E8%BE%93%E5%85%A5%E6%A1%86%0A%20%20const%20inputRow%20%3D%20document.createElement('div')%3B%0A%20%20inputRow.id%20%3D%20%60input-row-%24%7BgroupId%7D%60%3B%0A%20%20inputRow.style.cssText%20%3D%20'display%3A%20flex%3B%20gap%3A%203px%3B'%3B%0A%0A%20%20%2F%2F%20%E7%AC%AC2%E5%88%B0(rowCount%2B1)%E8%A1%8C%EF%BC%9A%E4%B8%8B%E6%8B%89%E8%8F%9C%E5%8D%95%0A%20%20const%20selectRows%20%3D%20%5B%5D%3B%0A%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20rowCount%3B%20i%2B%2B)%20%7B%0A%20%20%20%20const%20row%20%3D%20document.createElement('div')%3B%0A%20%20%20%20row.id%20%3D%20%60select-row-%24%7BgroupId%7D-%24%7Bi%7D%60%3B%0A%20%20%20%20row.style.cssText%20%3D%20'display%3A%20flex%3B%20gap%3A%203px%3B'%3B%0A%20%20%20%20selectRows.push(row)%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20%E5%88%9D%E5%A7%8B%E5%88%97%E6%95%B0%EF%BC%88%E4%BD%BF%E7%94%A8%E5%A4%8D%E5%88%B6%E5%90%8E%E7%9A%84%E6%A8%A1%E5%BC%8F%EF%BC%89%0A%20%20for%20(let%20col%20%3D%200%3B%20col%20%3C%20initialColCount%3B%20col%2B%2B)%20%7B%0A%20%20%20%20%2F%2F%20%E6%B7%BB%E5%8A%A0%E8%BE%93%E5%85%A5%E6%A1%86%0A%20%20%20%20inputRow.appendChild(createAmountInput())%3B%0A%0A%20%20%20%20%2F%2F%20%E6%B7%BB%E5%8A%A0%E4%B8%8B%E6%8B%89%E8%8F%9C%E5%8D%95%EF%BC%88%E9%A2%84%E8%AE%BE%E5%80%BC%EF%BC%8C%E4%B8%8D%E5%8F%AF%E7%BC%96%E8%BE%91%EF%BC%89%0A%20%20%20%20for%20(let%20row%20%3D%200%3B%20row%20%3C%20rowCount%3B%20row%2B%2B)%20%7B%0A%20%20%20%20%20%20selectRows%5Brow%5D.appendChild(createBetSelect(duplicatedPatterns%5Brow%5D%5Bcol%5D%2C%20false))%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2F%20%E7%BB%84%E8%A3%85%E8%A1%A8%E6%A0%BC%0A%20%20tableContainer.appendChild(inputRow)%3B%0A%20%20selectRows.forEach(row%20%3D%3E%20tableContainer.appendChild(row))%3B%0A%0A%20%20%2F%2F%20%E5%BA%95%E9%83%A8%E6%8E%A7%E5%88%B6%E6%A0%8F%0A%20%20const%20controlBar%20%3D%20document.createElement('div')%3B%0A%20%20controlBar.style.cssText%20%3D%20'margin-top%3A%2010px%3B%20display%3A%20flex%3B%20align-items%3A%20center%3B%20gap%3A%2010px%3B%20color%3A%20white%3B%20font-size%3A%2012px%3B'%3B%0A%20%20controlBar.innerHTML%20%3D%20%60%0A%20%20%20%20%3Cspan%20style%3D%22flex%3A%201%3B%22%3E%E6%9C%AC%E7%BB%84%E7%B4%AF%E8%AE%A1%E7%9B%88%E4%BA%8F%EF%BC%9A%3Cspan%20id%3D%22profit-preset-%24%7BgroupId%7D%22%20style%3D%22font-weight%3A%20bold%3B%20color%3A%20%234CAF50%3B%22%3E0%3C%2Fspan%3E%3C%2Fspan%3E%0A%20%20%20%20%3Cbutton%20id%3D%22add-col-%24%7BgroupId%7D%22%20style%3D%22padding%3A%205px%2010px%3B%20background%3A%20%234CAF50%3B%20color%3A%20white%3B%20border%3A%20none%3B%20border-radius%3A%203px%3B%20cursor%3A%20pointer%3B%22%3E%E5%A2%9E%3C%2Fbutton%3E%0A%20%20%20%20%3Cbutton%20id%3D%22delete-col-%24%7BgroupId%7D%22%20style%3D%22padding%3A%205px%2010px%3B%20background%3A%20%23f44336%3B%20color%3A%20white%3B%20border%3A%20none%3B%20border-radius%3A%203px%3B%20cursor%3A%20pointer%3B%20font-size%3A%2014px%3B%22%20disabled%3E%E5%87%8F%3C%2Fbutton%3E%0A%20%20%20%20%3Cinput%20type%3D%22checkbox%22%20id%3D%22enable-%24%7BgroupId%7D%22%20style%3D%22width%3A%2020px%3B%20height%3A%2020px%3B%20cursor%3A%20pointer%3B%22%3E%0A%20%20%20%20%3Clabel%20for%3D%22enable-%24%7BgroupId%7D%22%20style%3D%22cursor%3A%20pointer%3B%22%3E%E5%90%AF%E7%94%A8%3C%2Flabel%3E%0A%20%20%60%3B%0A%0A%20%20groupDiv.appendChild(tableContainer)%3B%0A%20%20groupDiv.appendChild(controlBar)%3B%0A%20%20container.appendChild(groupDiv)%3B%0A%0A%20%20%2F%2F%20%E5%A6%82%E6%9E%9C%E6%9C%89%E5%88%9D%E5%A7%8B%E6%95%B0%E6%8D%AE%EF%BC%8C%E6%B7%BB%E5%8A%A0%E9%A2%9D%E5%A4%96%E7%9A%84%E5%88%97%E5%B9%B6%E5%A1%AB%E5%85%85%E9%87%91%E9%A2%9D%0A%20%20if%20(initialData%20%26%26%20initialData.amounts)%20%7B%0A%20%20%20%20const%20targetColCount%20%3D%20initialData.amounts.length%3B%0A%0A%20%20%20%20%2F%2F%20%E6%B7%BB%E5%8A%A0%E9%A2%9D%E5%A4%96%E7%9A%84%E5%88%97%0A%20%20%20%20while%20(inputRow.children.length%20%3C%20targetColCount)%20%7B%0A%20%20%20%20%20%20addColumnToPresetGroup(groupId%2C%20rowCount%2C%20basePatternColCount%2C%20patterns)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20%E5%A1%AB%E5%85%85%E9%87%91%E9%A2%9D%E5%80%BC%0A%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20inputRow.children.length%20%26%26%20i%20%3C%20initialData.amounts.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20inputRow.children%5Bi%5D.value%20%3D%20initialData.amounts%5Bi%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20%E8%AE%BE%E7%BD%AE%E5%A4%8D%E9%80%89%E6%A1%86%E7%8A%B6%E6%80%81%0A%20%20%20%20const%20checkbox%20%3D%20document.getElementById(%60enable-%24%7BgroupId%7D%60)%3B%0A%20%20%20%20if%20(checkbox)%20%7B%0A%20%20%20%20%20%20checkbox.checked%20%3D%20initialData.enabled%20%7C%7C%20false%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2F%20%E7%BB%91%E5%AE%9A%E4%BA%8B%E4%BB%B6%0A%20%20document.getElementById(%60add-col-%24%7BgroupId%7D%60).addEventListener('click'%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20addColumnToPresetGroup(groupId%2C%20rowCount%2C%20basePatternColCount%2C%20patterns)%3B%0A%20%20%20%20savePatterns()%3B%20%2F%2F%20%E8%87%AA%E5%8A%A8%E4%BF%9D%E5%AD%98%0A%20%20%7D)%3B%0A%0A%20%20document.getElementById(%60delete-col-%24%7BgroupId%7D%60).addEventListener('click'%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20deleteLastColumn(groupId%2C%20rowCount%2C%20initialColCount%2C%20basePatternColCount)%3B%0A%20%20%20%20savePatterns()%3B%20%2F%2F%20%E8%87%AA%E5%8A%A8%E4%BF%9D%E5%AD%98%0A%20%20%7D)%3B%0A%0A%20%20document.getElementById(%60enable-%24%7BgroupId%7D%60).addEventListener('change'%2C%20(e)%20%3D%3E%20%7B%0A%20%20%20%20const%20isEnabled%20%3D%20e.target.checked%3B%0A%20%20%20%20console.log(%60%E9%A2%84%E8%AE%BE%E7%BB%84%20%24%7BgroupId%7D%20%24%7BisEnabled%20%3F%20'%E5%B7%B2%E5%90%AF%E7%94%A8'%20%3A%20'%E5%B7%B2%E5%81%9C%E7%94%A8'%7D%60)%3B%0A%20%20%20%20togglePresetGroupInteraction(groupId%2C%20isEnabled)%3B%0A%20%20%20%20savePatterns()%3B%20%2F%2F%20%E8%87%AA%E5%8A%A8%E4%BF%9D%E5%AD%98%0A%20%20%7D)%3B%0A%0A%20%20%2F%2F%20%E4%B8%BA%E6%89%80%E6%9C%89%E8%BE%93%E5%85%A5%E6%A1%86%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%8A%A8%E4%BF%9D%E5%AD%98%0A%20%20const%20inputs%20%3D%20inputRow.querySelectorAll('input%5Btype%3D%22number%22%5D')%3B%0A%20%20inputs.forEach(input%20%3D%3E%20%7B%0A%20%20%20%20input.addEventListener('change'%2C%20()%20%3D%3E%20savePatterns())%3B%0A%20%20%7D)%3B%0A%0A%20%20%2F%2F%20%E5%88%9D%E5%A7%8B%E5%8C%96%E7%89%8C%E8%B7%AF%E7%8A%B6%E6%80%81%0A%20%20const%20configIndex%20%3D%20PRESET_CONFIGS.findIndex(c%20%3D%3E%20c.name%20%3D%3D%3D%20config.name)%3B%0A%20%20window.patternStates%5BgroupId%5D%20%3D%20%7B%0A%20%20%20%20type%3A%20'preset'%2C%0A%20%20%20%20configIndex%3A%20configIndex%2C%0A%20%20%20%20isActivated%3A%20false%2C%0A%20%20%20%20activeRowIndex%3A%20-1%2C%0A%20%20%20%20currentPointer%3A%20-1%2C%0A%20%20%20%20rowCount%3A%20rowCount%0A%20%20%7D%3B%0A%20%20updatePatternUI(groupId%2C%20window.patternStates%5BgroupId%5D)%3B%0A%7D%0A%0A%2F%2F%20%E5%8A%A8%E6%80%81%E6%B7%BB%E5%8A%A0%E5%88%97%E5%88%B0%E9%A2%84%E8%AE%BE%E7%BB%84%EF%BC%88%E4%B8%80%E6%AC%A1%E6%B7%BB%E5%8A%A01%E5%88%97%EF%BC%89%0Afunction%20addColumnToPresetGroup(groupId%2C%20rowCount%2C%20basePatternColCount%2C%20patterns)%20%7B%0A%20%20const%20inputRow%20%3D%20document.getElementById(%60input-row-%24%7BgroupId%7D%60)%3B%0A%0A%20%20%2F%2F%20%E6%B7%BB%E5%8A%A0%E8%BE%93%E5%85%A5%E6%A1%86%0A%20%20const%20newInput%20%3D%20createAmountInput()%3B%0A%20%20newInput.addEventListener('change'%2C%20()%20%3D%3E%20savePatterns())%3B%0A%20%20inputRow.appendChild(newInput)%3B%0A%0A%20%20%2F%2F%20%E8%AE%A1%E7%AE%97%E5%BD%93%E5%89%8D%E6%96%B0%E5%A2%9E%E5%88%97%E7%9A%84%E7%B4%A2%E5%BC%95%E4%BD%8D%E7%BD%AE%0A%20%20const%20currentColIndex%20%3D%20inputRow.children.length%20-%201%3B%0A%20%20%2F%2F%20%E5%AF%B9%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F%E5%88%97%E6%95%B0%E5%8F%96%E4%BD%99%EF%BC%8C%E5%BE%97%E5%88%B0%E5%BA%94%E4%BD%BF%E7%94%A8%E7%9A%84%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F%E7%B4%A2%E5%BC%95%0A%20%20const%20patternIndex%20%3D%20currentColIndex%20%25%20basePatternColCount%3B%0A%0A%20%20%2F%2F%20%E4%B8%BA%E6%AF%8F%E4%B8%80%E8%A1%8C%E6%B7%BB%E5%8A%A0%E4%B8%8B%E6%8B%89%E8%8F%9C%E5%8D%95%EF%BC%88%E4%BD%BF%E7%94%A8%E8%AE%A1%E7%AE%97%E5%87%BA%E7%9A%84%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F%E5%80%BC%EF%BC%8C%E4%B8%8D%E5%8F%AF%E7%BC%96%E8%BE%91%EF%BC%89%0A%20%20for%20(let%20row%20%3D%200%3B%20row%20%3C%20rowCount%3B%20row%2B%2B)%20%7B%0A%20%20%20%20const%20selectRow%20%3D%20document.getElementById(%60select-row-%24%7BgroupId%7D-%24%7Brow%7D%60)%3B%0A%20%20%20%20selectRow.appendChild(createBetSelect(patterns%5Brow%5D%5BpatternIndex%5D%2C%20false))%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20%E5%90%AF%E7%94%A8%E5%88%A0%E9%99%A4%E6%8C%89%E9%92%AE%0A%20%20const%20deleteBtn%20%3D%20document.getElementById(%60delete-col-%24%7BgroupId%7D%60)%3B%0A%20%20if%20(deleteBtn)%20%7B%0A%20%20%20%20deleteBtn.disabled%20%3D%20false%3B%0A%20%20%7D%0A%7D%0A%0A%2F%2F%20%E5%88%A0%E9%99%A4%E9%A2%84%E8%AE%BE%E7%BB%84%E7%9A%84%E6%9C%80%E5%90%8E1%E5%88%97%0Afunction%20deleteLastColumn(groupId%2C%20rowCount%2C%20initialColCount%2C%20basePatternColCount)%20%7B%0A%20%20const%20inputRow%20%3D%20document.getElementById(%60input-row-%24%7BgroupId%7D%60)%3B%0A%0A%20%20%2F%2F%20%E6%A3%80%E6%9F%A5%E6%98%AF%E5%90%A6%E6%9C%89%E5%8F%AF%E5%88%A0%E9%99%A4%E7%9A%84%E5%88%97%0A%20%20if%20(inputRow.children.length%20%3C%3D%20initialColCount)%20%7B%0A%20%20%20%20return%3B%20%2F%2F%20%E4%B8%8D%E8%83%BD%E5%88%A0%E9%99%A4%E5%88%9D%E5%A7%8B%E5%88%97%0A%20%20%7D%0A%0A%20%20%2F%2F%20%E5%88%A0%E9%99%A4%E8%BE%93%E5%85%A5%E6%A1%86%E7%9A%84%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%0A%20%20if%20(inputRow.lastChild)%20%7B%0A%20%20%20%20inputRow.removeChild(inputRow.lastChild)%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20%E5%88%A0%E9%99%A4%E6%AF%8F%E8%A1%8C%E4%B8%8B%E6%8B%89%E8%8F%9C%E5%8D%95%E7%9A%84%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%0A%20%20for%20(let%20row%20%3D%200%3B%20row%20%3C%20rowCount%3B%20row%2B%2B)%20%7B%0A%20%20%20%20const%20selectRow%20%3D%20document.getElementById(%60select-row-%24%7BgroupId%7D-%24%7Brow%7D%60)%3B%0A%20%20%20%20if%20(selectRow%20%26%26%20selectRow.lastChild)%20%7B%0A%20%20%20%20%20%20selectRow.removeChild(selectRow.lastChild)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2F%20%E5%A6%82%E6%9E%9C%E5%88%A0%E9%99%A4%E5%90%8E%E5%8F%AA%E5%89%A9%E5%88%9D%E5%A7%8B%E5%88%97%E6%95%B0%EF%BC%8C%E7%A6%81%E7%94%A8%E5%88%A0%E9%99%A4%E6%8C%89%E9%92%AE%0A%20%20if%20(inputRow.children.length%20%3C%3D%20initialColCount)%20%7B%0A%20%20%20%20const%20deleteBtn%20%3D%20document.getElementById(%60delete-col-%24%7BgroupId%7D%60)%3B%0A%20%20%20%20if%20(deleteBtn)%20%7B%0A%20%20%20%20%20%20deleteBtn.disabled%20%3D%20true%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%0A%0A%2F%2F%20%E9%94%81%E5%AE%9A%2F%E8%A7%A3%E9%94%81%E9%A2%84%E8%AE%BE%E7%BB%84%E7%9A%84%E4%BA%A4%E4%BA%92%0Afunction%20togglePresetGroupInteraction(groupId%2C%20isDisabled)%20%7B%0A%20%20%2F%2F%20%E7%A6%81%E7%94%A8%2F%E5%90%AF%E7%94%A8%E6%89%80%E6%9C%89%E8%BE%93%E5%85%A5%E6%A1%86%0A%20%20const%20inputRow%20%3D%20document.getElementById(%60input-row-%24%7BgroupId%7D%60)%3B%0A%20%20if%20(inputRow)%20%7B%0A%20%20%20%20Array.from(inputRow.children).forEach(input%20%3D%3E%20%7B%0A%20%20%20%20%20%20input.disabled%20%3D%20isDisabled%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20%E7%A6%81%E7%94%A8%2F%E5%90%AF%E7%94%A8%E5%A2%9E%E5%8A%A0%E5%92%8C%E5%88%A0%E9%99%A4%E6%8C%89%E9%92%AE%0A%20%20const%20addBtn%20%3D%20document.getElementById(%60add-col-%24%7BgroupId%7D%60)%3B%0A%20%20const%20deleteBtn%20%3D%20document.getElementById(%60delete-col-%24%7BgroupId%7D%60)%3B%0A%20%20if%20(addBtn)%20addBtn.disabled%20%3D%20isDisabled%3B%0A%20%20if%20(deleteBtn%20%26%26%20inputRow%20%26%26%20inputRow.children.length%20%3E%201)%20%7B%0A%20%20%20%20deleteBtn.disabled%20%3D%20isDisabled%3B%0A%20%20%7D%0A%7D%0A%0A%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20%E8%87%AA%E5%AE%9A%E4%B9%89%E7%89%8C%E8%B7%AF%E7%AE%A1%E7%90%86%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%0A%2F%2F%20%E5%88%9B%E5%BB%BA%E7%89%8C%E8%B7%AF%E5%85%83%E7%B4%A0%0Afunction%20createPattern(initialData%20%3D%20null)%20%7B%0A%20%20const%20patternId%20%3D%20initialData%20%3F%20initialData.id%20%3A%20patternIdCounter%2B%2B%3B%0A%20%20if%20(!initialData)%20patternIdCounter%20%3D%20patternId%20%2B%201%3B%0A%20%20const%20container%20%3D%20document.getElementById('pattern-container')%3B%0A%0A%20%20const%20patternDiv%20%3D%20document.createElement('div')%3B%0A%20%20patternDiv.id%20%3D%20%60pattern-%24%7BpatternId%7D%60%3B%0A%20%20patternDiv.style.cssText%20%3D%20'margin-bottom%3A%208px%3B%20background%3A%20rgba(0%2C%200%2C%200%2C%200.5)%3B%20padding%3A%2010px%3B%20border-radius%3A%205px%3B'%3B%0A%0A%20%20%2F%2F%20%E5%88%9B%E5%BB%BA%E6%A0%87%E9%A2%98%0A%20%20const%20titleDiv%20%3D%20document.createElement('div')%3B%0A%20%20titleDiv.style.cssText%20%3D%20'color%3A%20white%3B%20font-size%3A%2012px%3B%20margin-bottom%3A%205px%3B'%3B%0A%20%20titleDiv.innerHTML%20%3D%20%60%E6%9C%AC%E7%89%8C%E8%B7%AF%E7%B4%AF%E8%AE%A1%E7%9B%88%E4%BA%8F%EF%BC%9A%3Cspan%20id%3D%22profit-%24%7BpatternId%7D%22%20style%3D%22font-weight%3A%20bold%3B%20color%3A%20%234CAF50%3B%22%3E0%3C%2Fspan%3E%60%3B%0A%0A%20%20%2F%2F%20%E5%88%9B%E5%BB%BA%E8%A1%A8%E6%A0%BC%E5%AE%B9%E5%99%A8%0A%20%20const%20tableContainer%20%3D%20document.createElement('div')%3B%0A%20%20tableContainer.style.cssText%20%3D%20'display%3A%20flex%3B%20flex-direction%3A%20column%3B%20gap%3A%203px%3B%20overflow-x%3A%20auto%3B'%3B%0A%0A%20%20%2F%2F%20%E7%AC%AC%E4%B8%80%E8%A1%8C%EF%BC%9A%E6%95%B0%E5%AD%97%E8%BE%93%E5%85%A5%E6%A1%86%EF%BC%88%E5%88%9D%E5%A7%8B1%E5%88%97%EF%BC%89%0A%20%20const%20row1%20%3D%20document.createElement('div')%3B%0A%20%20row1.id%20%3D%20%60input-row-custom-%24%7BpatternId%7D%60%3B%0A%20%20row1.style.cssText%20%3D%20'display%3A%20flex%3B%20gap%3A%203px%3B'%3B%0A%20%20row1.appendChild(createAmountInput())%3B%0A%0A%20%20%2F%2F%20%E7%AC%AC%E4%BA%8C%E8%A1%8C%EF%BC%9A%E4%B8%8B%E6%8B%89%E8%8F%9C%E5%8D%95%EF%BC%88%E5%88%9D%E5%A7%8B1%E5%88%97%EF%BC%89%0A%20%20const%20row2%20%3D%20document.createElement('div')%3B%0A%20%20row2.id%20%3D%20%60select-row-custom-%24%7BpatternId%7D%60%3B%0A%20%20row2.style.cssText%20%3D%20'display%3A%20flex%3B%20gap%3A%203px%3B'%3B%0A%20%20row2.appendChild(createBetSelect('%E5%BA%84'%2C%20true))%3B%0A%0A%20%20tableContainer.appendChild(row1)%3B%0A%20%20tableContainer.appendChild(row2)%3B%0A%0A%20%20%2F%2F%20%E5%BA%95%E9%83%A8%E6%8E%A7%E5%88%B6%E6%A0%8F%0A%20%20const%20controlBar%20%3D%20document.createElement('div')%3B%0A%20%20controlBar.style.cssText%20%3D%20'margin-top%3A%2010px%3B%20display%3A%20flex%3B%20align-items%3A%20center%3B%20gap%3A%2010px%3B%20color%3A%20white%3B%20font-size%3A%2012px%3B'%3B%0A%20%20controlBar.innerHTML%20%3D%20%60%0A%20%20%20%20%3Cbutton%20id%3D%22add-col-custom-%24%7BpatternId%7D%22%20style%3D%22padding%3A%205px%2010px%3B%20background%3A%20%234CAF50%3B%20color%3A%20white%3B%20border%3A%20none%3B%20border-radius%3A%203px%3B%20cursor%3A%20pointer%3B%22%3E%E5%A2%9E%3C%2Fbutton%3E%0A%20%20%20%20%3Cbutton%20id%3D%22delete-col-custom-%24%7BpatternId%7D%22%20style%3D%22padding%3A%205px%2010px%3B%20background%3A%20%23f44336%3B%20color%3A%20white%3B%20border%3A%20none%3B%20border-radius%3A%203px%3B%20cursor%3A%20pointer%3B%20font-size%3A%2014px%3B%22%20disabled%3E%E5%87%8F%3C%2Fbutton%3E%0A%20%20%20%20%3Cinput%20type%3D%22checkbox%22%20id%3D%22enable-custom-%24%7BpatternId%7D%22%20style%3D%22width%3A%2020px%3B%20height%3A%2020px%3B%20cursor%3A%20pointer%3B%22%3E%0A%20%20%20%20%3Clabel%20for%3D%22enable-custom-%24%7BpatternId%7D%22%20style%3D%22cursor%3A%20pointer%3B%22%3E%E5%90%AF%E7%94%A8%3C%2Flabel%3E%0A%20%20%20%20%3Cbutton%20id%3D%22delete-pattern-%24%7BpatternId%7D%22%20style%3D%22margin-left%3A%20auto%3B%20padding%3A%205px%2010px%3B%20background%3A%20%23f44336%3B%20color%3A%20white%3B%20border%3A%20none%3B%20border-radius%3A%203px%3B%20cursor%3A%20pointer%3B%20font-weight%3A%20bold%3B%22%3E%C3%97%E5%88%A0%E9%99%A4%E7%89%8C%E8%B7%AF%3C%2Fbutton%3E%0A%20%20%60%3B%0A%0A%20%20patternDiv.appendChild(titleDiv)%3B%0A%20%20patternDiv.appendChild(tableContainer)%3B%0A%20%20patternDiv.appendChild(controlBar)%3B%0A%20%20container.appendChild(patternDiv)%3B%0A%0A%20%20%2F%2F%20%E5%A6%82%E6%9E%9C%E6%9C%89%E5%88%9D%E5%A7%8B%E6%95%B0%E6%8D%AE%EF%BC%8C%E6%B7%BB%E5%8A%A0%E9%A2%9D%E5%A4%96%E7%9A%84%E5%88%97%E5%B9%B6%E5%A1%AB%E5%85%85%E5%80%BC%0A%20%20if%20(initialData%20%26%26%20initialData.columns)%20%7B%0A%20%20%20%20const%20targetColCount%20%3D%20initialData.columns.length%3B%0A%0A%20%20%20%20%2F%2F%20%E6%B7%BB%E5%8A%A0%E9%A2%9D%E5%A4%96%E7%9A%84%E5%88%97%0A%20%20%20%20while%20(row1.children.length%20%3C%20targetColCount)%20%7B%0A%20%20%20%20%20%20addColumnToCustomPattern(patternId)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20%E5%A1%AB%E5%85%85%E9%87%91%E9%A2%9D%E5%92%8C%E4%B8%8B%E6%B3%A8%E7%B1%BB%E5%9E%8B%0A%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20initialData.columns.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20const%20col%20%3D%20initialData.columns%5Bi%5D%3B%0A%20%20%20%20%20%20if%20(row1.children%5Bi%5D)%20row1.children%5Bi%5D.value%20%3D%20col.amount%3B%0A%20%20%20%20%20%20if%20(row2.children%5Bi%5D)%20row2.children%5Bi%5D.value%20%3D%20col.betType%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20%E8%AE%BE%E7%BD%AE%E5%A4%8D%E9%80%89%E6%A1%86%E7%8A%B6%E6%80%81%0A%20%20%20%20const%20checkbox%20%3D%20document.getElementById(%60enable-custom-%24%7BpatternId%7D%60)%3B%0A%20%20%20%20if%20(checkbox)%20%7B%0A%20%20%20%20%20%20checkbox.checked%20%3D%20initialData.enabled%20%7C%7C%20false%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2F%20%E7%BB%91%E5%AE%9A%E4%BA%8B%E4%BB%B6%0A%20%20document.getElementById(%60add-col-custom-%24%7BpatternId%7D%60).addEventListener('click'%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20addColumnToCustomPattern(patternId)%3B%0A%20%20%20%20savePatterns()%3B%20%2F%2F%20%E8%87%AA%E5%8A%A8%E4%BF%9D%E5%AD%98%0A%20%20%7D)%3B%0A%0A%20%20document.getElementById(%60delete-col-custom-%24%7BpatternId%7D%60).addEventListener('click'%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20deleteLastColumnFromCustomPattern(patternId)%3B%0A%20%20%20%20savePatterns()%3B%20%2F%2F%20%E8%87%AA%E5%8A%A8%E4%BF%9D%E5%AD%98%0A%20%20%7D)%3B%0A%0A%20%20document.getElementById(%60enable-custom-%24%7BpatternId%7D%60).addEventListener('change'%2C%20(e)%20%3D%3E%20%7B%0A%20%20%20%20const%20isEnabled%20%3D%20e.target.checked%3B%0A%20%20%20%20console.log(%60%E8%87%AA%E5%AE%9A%E4%B9%89%E7%89%8C%E8%B7%AF%20%24%7BpatternId%7D%20%24%7BisEnabled%20%3F%20'%E5%B7%B2%E5%90%AF%E7%94%A8'%20%3A%20'%E5%B7%B2%E5%81%9C%E7%94%A8'%7D%60)%3B%0A%20%20%20%20toggleCustomPatternInteraction(patternId%2C%20isEnabled)%3B%0A%20%20%20%20savePatterns()%3B%20%2F%2F%20%E8%87%AA%E5%8A%A8%E4%BF%9D%E5%AD%98%0A%20%20%7D)%3B%0A%0A%20%20document.getElementById(%60delete-pattern-%24%7BpatternId%7D%60).addEventListener('click'%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20patternDiv.remove()%3B%0A%20%20%20%20delete%20window.patternStates%5B%60pattern-%24%7BpatternId%7D%60%5D%3B%0A%20%20%20%20savePatterns()%3B%20%2F%2F%20%E8%87%AA%E5%8A%A8%E4%BF%9D%E5%AD%98%0A%20%20%7D)%3B%0A%0A%20%20%2F%2F%20%E4%B8%BA%E6%89%80%E6%9C%89%E8%BE%93%E5%85%A5%E6%A1%86%E5%92%8C%E4%B8%8B%E6%8B%89%E8%8F%9C%E5%8D%95%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%8A%A8%E4%BF%9D%E5%AD%98%0A%20%20const%20inputs%20%3D%20row1.querySelectorAll('input%5Btype%3D%22number%22%5D')%3B%0A%20%20const%20selects%20%3D%20row2.querySelectorAll('select')%3B%0A%20%20inputs.forEach(input%20%3D%3E%20%7B%0A%20%20%20%20input.addEventListener('change'%2C%20()%20%3D%3E%20savePatterns())%3B%0A%20%20%7D)%3B%0A%20%20selects.forEach(select%20%3D%3E%20%7B%0A%20%20%20%20select.addEventListener('change'%2C%20()%20%3D%3E%20savePatterns())%3B%0A%20%20%7D)%3B%0A%0A%20%20%2F%2F%20%E5%88%9D%E5%A7%8B%E5%8C%96%E7%89%8C%E8%B7%AF%E7%8A%B6%E6%80%81%0A%20%20window.patternStates%5B%60pattern-%24%7BpatternId%7D%60%5D%20%3D%20%7B%0A%20%20%20%20type%3A%20'custom'%2C%0A%20%20%20%20isActivated%3A%20false%2C%0A%20%20%20%20activeRowIndex%3A%20-1%2C%0A%20%20%20%20currentPointer%3A%20-1%2C%0A%20%20%20%20rowCount%3A%201%0A%20%20%7D%3B%0A%20%20updatePatternUI(%60pattern-%24%7BpatternId%7D%60%2C%20window.patternStates%5B%60pattern-%24%7BpatternId%7D%60%5D)%3B%0A%7D%0A%0A%2F%2F%20%E4%B8%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E7%89%8C%E8%B7%AF%E6%B7%BB%E5%8A%A0%E4%B8%80%E5%88%97%0Afunction%20addColumnToCustomPattern(patternId)%20%7B%0A%20%20const%20inputRow%20%3D%20document.getElementById(%60input-row-custom-%24%7BpatternId%7D%60)%3B%0A%20%20const%20selectRow%20%3D%20document.getElementById(%60select-row-custom-%24%7BpatternId%7D%60)%3B%0A%0A%20%20%2F%2F%20%E6%B7%BB%E5%8A%A0%E8%BE%93%E5%85%A5%E6%A1%86%0A%20%20const%20newInput%20%3D%20createAmountInput()%3B%0A%20%20newInput.addEventListener('change'%2C%20()%20%3D%3E%20savePatterns())%3B%0A%20%20inputRow.appendChild(newInput)%3B%0A%0A%20%20%2F%2F%20%E6%B7%BB%E5%8A%A0%E4%B8%8B%E6%8B%89%E8%8F%9C%E5%8D%95%0A%20%20const%20newSelect%20%3D%20createBetSelect('%E5%BA%84'%2C%20true)%3B%0A%20%20newSelect.addEventListener('change'%2C%20()%20%3D%3E%20savePatterns())%3B%0A%20%20selectRow.appendChild(newSelect)%3B%0A%0A%20%20%2F%2F%20%E5%90%AF%E7%94%A8%E5%88%A0%E9%99%A4%E6%8C%89%E9%92%AE%0A%20%20const%20deleteBtn%20%3D%20document.getElementById(%60delete-col-custom-%24%7BpatternId%7D%60)%3B%0A%20%20if%20(deleteBtn)%20%7B%0A%20%20%20%20deleteBtn.disabled%20%3D%20false%3B%0A%20%20%7D%0A%7D%0A%0A%2F%2F%20%E5%88%A0%E9%99%A4%E8%87%AA%E5%AE%9A%E4%B9%89%E7%89%8C%E8%B7%AF%E7%9A%84%E6%9C%80%E5%90%8E%E4%B8%80%E5%88%97%0Afunction%20deleteLastColumnFromCustomPattern(patternId)%20%7B%0A%20%20const%20inputRow%20%3D%20document.getElementById(%60input-row-custom-%24%7BpatternId%7D%60)%3B%0A%20%20const%20selectRow%20%3D%20document.getElementById(%60select-row-custom-%24%7BpatternId%7D%60)%3B%0A%0A%20%20%2F%2F%20%E6%A3%80%E6%9F%A5%E6%98%AF%E5%90%A6%E5%8F%AA%E5%89%A91%E5%88%97%0A%20%20if%20(inputRow.children.length%20%3C%3D%201)%20%7B%0A%20%20%20%20return%3B%20%2F%2F%20%E4%B8%8D%E8%83%BD%E5%88%A0%E9%99%A4%E6%9C%80%E5%90%8E%E4%B8%80%E5%88%97%0A%20%20%7D%0A%0A%20%20%2F%2F%20%E5%88%A0%E9%99%A4%E8%BE%93%E5%85%A5%E6%A1%86%E7%9A%84%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%0A%20%20if%20(inputRow.lastChild)%20%7B%0A%20%20%20%20inputRow.removeChild(inputRow.lastChild)%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20%E5%88%A0%E9%99%A4%E4%B8%8B%E6%8B%89%E8%8F%9C%E5%8D%95%E7%9A%84%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%0A%20%20if%20(selectRow.lastChild)%20%7B%0A%20%20%20%20selectRow.removeChild(selectRow.lastChild)%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20%E5%A6%82%E6%9E%9C%E5%88%A0%E9%99%A4%E5%90%8E%E5%8F%AA%E5%89%A91%E5%88%97%EF%BC%8C%E7%A6%81%E7%94%A8%E5%88%A0%E9%99%A4%E6%8C%89%E9%92%AE%0A%20%20if%20(inputRow.children.length%20%3C%3D%201)%20%7B%0A%20%20%20%20const%20deleteBtn%20%3D%20document.getElementById(%60delete-col-custom-%24%7BpatternId%7D%60)%3B%0A%20%20%20%20if%20(deleteBtn)%20%7B%0A%20%20%20%20%20%20deleteBtn.disabled%20%3D%20true%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%0A%0A%2F%2F%20%E9%94%81%E5%AE%9A%2F%E8%A7%A3%E9%94%81%E8%87%AA%E5%AE%9A%E4%B9%89%E7%89%8C%E8%B7%AF%E7%9A%84%E4%BA%A4%E4%BA%92%0Afunction%20toggleCustomPatternInteraction(patternId%2C%20isDisabled)%20%7B%0A%20%20%2F%2F%20%E7%A6%81%E7%94%A8%2F%E5%90%AF%E7%94%A8%E6%89%80%E6%9C%89%E8%BE%93%E5%85%A5%E6%A1%86%0A%20%20const%20inputRow%20%3D%20document.getElementById(%60input-row-custom-%24%7BpatternId%7D%60)%3B%0A%20%20if%20(inputRow)%20%7B%0A%20%20%20%20Array.from(inputRow.children).forEach(input%20%3D%3E%20%7B%0A%20%20%20%20%20%20input.disabled%20%3D%20isDisabled%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20%E7%A6%81%E7%94%A8%2F%E5%90%AF%E7%94%A8%E6%89%80%E6%9C%89%E4%B8%8B%E6%8B%89%E8%8F%9C%E5%8D%95%0A%20%20const%20selectRow%20%3D%20document.getElementById(%60select-row-custom-%24%7BpatternId%7D%60)%3B%0A%20%20if%20(selectRow)%20%7B%0A%20%20%20%20Array.from(selectRow.children).forEach(select%20%3D%3E%20%7B%0A%20%20%20%20%20%20select.disabled%20%3D%20isDisabled%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20%E7%A6%81%E7%94%A8%2F%E5%90%AF%E7%94%A8%E5%A2%9E%E5%8A%A0%E3%80%81%E5%88%A0%E9%99%A4%E5%88%97%E6%8C%89%E9%92%AE%0A%20%20const%20addBtn%20%3D%20document.getElementById(%60add-col-custom-%24%7BpatternId%7D%60)%3B%0A%20%20const%20deleteBtn%20%3D%20document.getElementById(%60delete-col-custom-%24%7BpatternId%7D%60)%3B%0A%20%20if%20(addBtn)%20addBtn.disabled%20%3D%20isDisabled%3B%0A%20%20if%20(deleteBtn%20%26%26%20inputRow%20%26%26%20inputRow.children.length%20%3E%201)%20%7B%0A%20%20%20%20deleteBtn.disabled%20%3D%20isDisabled%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20%E7%A6%81%E7%94%A8%2F%E5%90%AF%E7%94%A8%E5%88%A0%E9%99%A4%E7%89%8C%E8%B7%AF%E6%8C%89%E9%92%AE%0A%20%20const%20deletePatternBtn%20%3D%20document.getElementById(%60delete-pattern-%24%7BpatternId%7D%60)%3B%0A%20%20if%20(deletePatternBtn)%20deletePatternBtn.disabled%20%3D%20isDisabled%3B%0A%7D%0A%0A%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20%E6%B8%B8%E6%88%8F%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%0A%2F%2F%20%E8%A7%A3%E6%9E%90%20URL%20%E5%AD%97%E6%AE%B5%EF%BC%8C%E8%AF%86%E5%88%AB%E6%B8%B8%E6%88%8F%E9%98%B6%E6%AE%B5%0Afunction%20parseGamePhase(logData)%20%7B%0A%20%20if%20(!logData%20%7C%7C%20!logData.url)%20return%3B%0A%0A%20%20const%20url%20%3D%20logData.url%3B%0A%0A%20%20if%20(url.includes('%2Fjiang%2F%E5%BC%80%E5%B1%80.png')%20%7C%7C%20url.includes('%2Fjiang%2F%E5%BC%80%E5%AE%9D.png'))%20%7B%0A%20%20%20%20window.bthStatus.gamePhase%20%3D%20'%E5%8F%AF%E4%BB%A5%E4%B8%8B%E6%B3%A8'%3B%0A%20%20%20%20window.bthStatus.time%20%3D%20new%20Date().toLocaleTimeString()%3B%0A%20%20%20%20console.log(%60%25c%E6%B8%B8%E6%88%8F%E7%8A%B6%E6%80%81%3A%20%E5%8F%AF%E4%BB%A5%E4%B8%8B%E6%B3%A8%60%2C%20'color%3A%20green%3B%20font-weight%3A%20bold')%3B%0A%20%20%20%20updatePanel()%3B%0A%0A%20%20%20%20%2F%2F%20%E8%87%AA%E5%8A%A8%E4%B8%8B%E6%B3%A8%0A%20%20%20%20autoPlaceBets()%3B%0A%20%20%7D%20else%20if%20(url.includes('%2Fjiang%2F%E5%B0%81%E7%9B%98.png'))%20%7B%0A%20%20%20%20window.bthStatus.gamePhase%20%3D%20'%E5%B7%B2%E5%B0%81%E7%9B%98'%3B%0A%20%20%20%20window.bthStatus.time%20%3D%20new%20Date().toLocaleTimeString()%3B%0A%20%20%20%20console.log(%60%25c%E6%B8%B8%E6%88%8F%E7%8A%B6%E6%80%81%3A%20%E5%B7%B2%E5%B0%81%E7%9B%98%60%2C%20'color%3A%20red%3B%20font-weight%3A%20bold')%3B%0A%20%20%20%20updatePanel()%3B%0A%20%20%7D%0A%7D%0A%0A%2F%2F%20%E8%A7%A3%E6%9E%90%E5%92%8C%E5%B1%95%E7%A4%BA%E6%9C%80%E6%96%B0%E7%9A%84%E6%9C%9F%E5%8F%B7%E5%92%8C%E7%BB%93%E6%9E%9C%EF%BC%8C%E5%B9%B6%E4%B8%94%E6%98%BE%E7%A4%BA%22%E9%9C%B8%E5%A4%A9%E8%99%8E%22%E7%9A%84%E8%BE%93%E8%B5%A2%E6%83%85%E5%86%B5%0Afunction%20parseDataAndDisplay(logData)%20%7B%0A%20%20%2F%2F%20%E5%A6%82%E6%9E%9C%E6%B2%A1%E6%9C%89%E4%BC%A0%E5%85%A5%E6%95%B0%E6%8D%AE%EF%BC%8C%E4%BD%BF%E7%94%A8%E6%9C%80%E6%96%B0%E7%9A%84%E4%B8%80%E6%9D%A1%0A%20%20const%20data%20%3D%20logData%20%7C%7C%20(window.logs.length%20%3F%20window.logs%5Bwindow.logs.length%20-%201%5D%20%3A%20null)%3B%0A%20%20if%20(!data)%20return%3B%0A%0A%20%20if%20(data.msg%20%26%26%20Array.isArray(data.msg))%20%7B%0A%20%20%20%20%2F%2F%20%E8%8E%B7%E5%8F%96%E6%9C%9F%E5%8F%B7%E5%92%8C%E7%BB%93%E6%9E%9C%20-%20%E5%8F%AA%E8%A7%A3%E6%9E%90%E5%8C%85%E5%90%AB%22%E6%9C%9F%E7%BB%93%E6%9E%9C%22%E7%9A%84%E6%B6%88%E6%81%AF%0A%20%20%20%20const%20periodResult%20%3D%20data.msg%5B0%5D%3B%20%2F%2F%20%E6%9C%9F%E5%8F%B7%E5%92%8C%E7%BB%93%E6%9E%9C%0A%20%20%20%20if%20(!periodResult.includes('%E6%9C%9F%E7%BB%93%E6%9E%9C'))%20return%3B%20%2F%2F%20%E5%A6%82%E6%9E%9C%E4%B8%8D%E6%98%AF%E6%9C%9F%E6%95%B0%E7%BB%93%E6%9E%9C%E6%B6%88%E6%81%AF%EF%BC%8C%E8%B7%B3%E8%BF%87%0A%0A%20%20%20%20const%20periodMatch%20%3D%20periodResult.split('%EF%BC%9A')%3B%0A%20%20%20%20const%20period%20%3D%20periodMatch%5B0%5D%3B%20%2F%2F%20%E6%9C%9F%E5%8F%B7%0A%20%20%20%20const%20resultRaw%20%3D%20periodMatch%5B1%5D%3B%20%2F%2F%20%E7%BB%93%E6%9E%9C%0A%20%20%20%20const%20result%20%3D%20resultRaw%20%3F%20resultRaw.charAt(0)%20%3A%20resultRaw%3B%20%2F%2F%20%E5%8F%AA%E5%8F%96%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%AD%97%EF%BC%88%E9%96%92%20%E6%88%96%20%E5%BA%84%EF%BC%89%0A%20%20%20%20const%20numberMatch%20%3D%20resultRaw%20%3F%20resultRaw.match(%2F%5Cd%2B%2F)%20%3A%20null%3B%20%2F%2F%20%E6%8F%90%E5%8F%96%E6%95%B0%E5%AD%97%0A%20%20%20%20const%20resultNumber%20%3D%20numberMatch%20%3F%20numberMatch%5B0%5D%20%3A%20''%3B%0A%20%20%20%20console.log(%60%E7%AC%AC%20%24%7Bperiod%7D%20%E6%9C%9F%E7%BB%93%E6%9E%9C%3A%20%24%7Bresult%7D%24%7BresultNumber%7D%60)%3B%0A%0A%20%20%20%20%2F%2F%20%E6%9B%B4%E6%96%B0%E7%8A%B6%E6%80%81%0A%20%20%20%20window.bthStatus.period%20%3D%20period%3B%0A%20%20%20%20window.bthStatus.result%20%3D%20result%3B%0A%20%20%20%20window.bthStatus.resultNumber%20%3D%20resultNumber%3B%0A%20%20%20%20window.bthStatus.time%20%3D%20new%20Date().toLocaleTimeString()%3B%0A%0A%20%20%20%20%2F%2F%20%E6%9F%A5%E6%89%BE%E9%9C%B8%E5%A4%A9%E8%99%8E%E4%BF%A1%E6%81%AF%0A%20%20%20%20let%20foundBTH%20%3D%20false%3B%0A%20%20%20%20data.msg.forEach(m%20%3D%3E%20%7B%0A%20%20%20%20%20%20if%20(m.includes('(%E9%9C%B8%E5%A4%A9%E8%99%8E)'))%20%7B%0A%20%20%20%20%20%20%20%20foundBTH%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20%E5%8C%B9%E9%85%8D%E6%A0%BC%E5%BC%8F%EF%BC%9A(%E9%9C%B8%E5%A4%A9%E8%99%8E)%5B%E6%80%BB%E5%88%86%5D%20%5B%E6%9C%AC%E6%9C%9F%E8%BE%93%E8%B5%A2%5D%20%E6%88%96%20(%E9%9C%B8%E5%A4%A9%E8%99%8E)%5B%E6%80%BB%E5%88%86%5D%0A%20%20%20%20%20%20%20%20const%20matches%20%3D%20m.match(%2F%5C%5B(%5B%5E%5C%5D%5D%2B)%5C%5D%2Fg)%3B%20%2F%2F%20%E5%8C%B9%E9%85%8D%E6%89%80%E6%9C%89%20%5Bxxx%5D%0A%20%20%20%20%20%20%20%20if%20(matches%20%26%26%20matches.length%20%3E%3D%202)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E6%9C%89%E4%B8%A4%E4%B8%AA%E6%95%B0%E5%AD%97%EF%BC%8C%E7%AC%AC%E4%BA%8C%E4%B8%AA%E6%98%AF%E6%9C%AC%E6%9C%9F%E8%BE%93%E8%B5%A2%0A%20%20%20%20%20%20%20%20%20%20const%20totalScore%20%3D%20parseInt(matches%5B0%5D.replace(%2F%5B%5C%5B%5C%5D%5D%2Fg%2C%20'')%2C%2010)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20winLose%20%3D%20parseInt(matches%5B1%5D.replace(%2F%5B%5C%5B%5C%5D%5D%2Fg%2C%20'')%2C%2010)%3B%0A%20%20%20%20%20%20%20%20%20%20const%20status%20%3D%20winLose%20%3E%200%20%3F%20'%E8%B5%A2%E4%BA%86'%20%3A%20winLose%20%3C%200%20%3F%20'%E8%BE%93%E4%BA%86'%20%3A%20'%E5%B9%B3%E5%B1%80'%3B%0A%20%20%20%20%20%20%20%20%20%20console.log(%60%E9%9C%B8%E5%A4%A9%E8%99%8E%20%24%7Bstatus%7D%2C%20%E6%9C%AC%E6%9C%9F%3A%20%24%7BwinLose%7D%2C%20%E6%80%BB%E5%88%86%3A%20%24%7BtotalScore%7D%60)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20window.bthStatus.status%20%3D%20status%3B%0A%20%20%20%20%20%20%20%20%20%20window.bthStatus.winLose%20%3D%20winLose%3B%0A%20%20%20%20%20%20%20%20%20%20window.bthStatus.totalScore%20%3D%20totalScore%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(matches%20%26%26%20matches.length%20%3D%3D%3D%201)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AA%E6%95%B0%E5%AD%97%EF%BC%8C%E6%98%AF%E6%80%BB%E5%88%86%EF%BC%8C%E6%9C%AC%E6%9C%9F%E6%B2%A1%E6%9C%89%E8%BE%93%E8%B5%A2%0A%20%20%20%20%20%20%20%20%20%20const%20totalScore%20%3D%20parseInt(matches%5B0%5D.replace(%2F%5B%5C%5B%5C%5D%5D%2Fg%2C%20'')%2C%2010)%3B%0A%20%20%20%20%20%20%20%20%20%20console.log(%60%E9%9C%B8%E5%A4%A9%E8%99%8E%20%E6%9C%AC%E6%9C%9F%E6%9C%AA%E4%B8%8B%E6%B3%A8%2C%20%E6%80%BB%E5%88%86%3A%20%24%7BtotalScore%7D%60)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20window.bthStatus.status%20%3D%20'%E6%9C%AA%E4%B8%8B%E6%B3%A8'%3B%0A%20%20%20%20%20%20%20%20%20%20window.bthStatus.winLose%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20window.bthStatus.totalScore%20%3D%20totalScore%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%2F%2F%20%E5%A6%82%E6%9E%9C%E6%B6%88%E6%81%AF%E9%87%8C%E6%B2%A1%E6%9C%89%E9%9C%B8%E5%A4%A9%E8%99%8E%EF%BC%8C%E8%AF%B4%E6%98%8E%E8%BF%99%E6%9C%9F%E6%B2%A1%E4%B8%8B%E6%B3%A8%0A%20%20%20%20if%20(!foundBTH)%20%7B%0A%20%20%20%20%20%20console.log(%60%E9%9C%B8%E5%A4%A9%E8%99%8E%20%E6%9C%AC%E6%9C%9F%E6%9C%AA%E4%B8%8B%E6%B3%A8%60)%3B%0A%20%20%20%20%20%20window.bthStatus.status%20%3D%20'%E6%9C%AA%E4%B8%8B%E6%B3%A8'%3B%0A%20%20%20%20%20%20window.bthStatus.winLose%20%3D%200%3B%0A%20%20%20%20%20%20%2F%2F%20%E4%BF%9D%E6%8C%81%E4%B8%8A%E4%B8%80%E6%9C%9F%E7%9A%84%E6%80%BB%E5%88%86%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20%E7%AB%8B%E5%8D%B3%E6%9B%B4%E6%96%B0%E9%9D%A2%E6%9D%BF%0A%20%20%20%20updatePanel()%3B%0A%0A%20%20%20%20%2F%2F%20%E8%87%AA%E5%8A%A8%E4%B8%8B%E6%B3%A8%E5%8A%9F%E8%83%BD%EF%BC%9A%E6%9B%B4%E6%96%B0%E5%8E%86%E5%8F%B2%E3%80%81%E6%A3%80%E6%9F%A5%E6%BF%80%E6%B4%BB%E3%80%81%E6%8E%A8%E8%BF%9B%E6%8C%87%E9%92%88%0A%20%20%20%20updateGameHistory(window.bthStatus.result)%3B%0A%20%20%20%20checkActivation()%3B%0A%20%20%20%20advancePointers(window.bthStatus.result)%3B%0A%20%20%7D%0A%7D%0A%0A%0A%2F%2F%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20%E5%88%9D%E5%A7%8B%E5%8C%96%E5%92%8C%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%0A%2F%2F%20%E6%96%B0%E5%A2%9E%E7%89%8C%E8%B7%AF%E6%8C%89%E9%92%AE%E4%BA%8B%E4%BB%B6%0Adocument.getElementById('add-pattern').addEventListener('click'%2C%20createPattern)%3B%0A%0A%2F%2F%20%E6%B8%85%E7%A9%BA%E7%89%8C%E8%B7%AF%E6%8C%89%E9%92%AE%E4%BA%8B%E4%BB%B6%0Adocument.getElementById('clear-history').addEventListener('click'%2C%20()%20%3D%3E%20%7B%0A%20%20%2F%2F%201.%20%E6%B8%85%E7%A9%BA%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95%0A%20%20window.gameHistory%20%3D%20%5B%5D%3B%0A%20%20window.logs%20%3D%20%5B%5D%3B%0A%0A%20%20%2F%2F%202.%20%E9%87%8D%E7%BD%AE%E9%9C%B8%E5%A4%A9%E8%99%8E%E7%8A%B6%E6%80%81%0A%20%20window.bthStatus%20%3D%20%7B%0A%20%20%20%20period%3A%20''%2C%0A%20%20%20%20result%3A%20''%2C%0A%20%20%20%20resultNumber%3A%20''%2C%0A%20%20%20%20status%3A%20''%2C%0A%20%20%20%20winLose%3A%200%2C%0A%20%20%20%20totalScore%3A%200%2C%0A%20%20%20%20time%3A%20''%2C%0A%20%20%20%20gamePhase%3A%20''%0A%20%20%7D%3B%0A%0A%20%20%2F%2F%203.%20%E9%87%8D%E7%BD%AE%E6%89%80%E6%9C%89%E7%89%8C%E8%B7%AF%E7%8A%B6%E6%80%81%0A%20%20for%20(let%20patternId%20in%20window.patternStates)%20%7B%0A%20%20%20%20const%20state%20%3D%20window.patternStates%5BpatternId%5D%3B%0A%20%20%20%20state.isActivated%20%3D%20false%3B%0A%20%20%20%20state.justActivated%20%3D%20false%3B%0A%20%20%20%20state.activeRowIndex%20%3D%20-1%3B%0A%20%20%20%20state.currentPointer%20%3D%20-1%3B%0A%20%20%20%20updatePatternUI(patternId%2C%20state)%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%204.%20%E6%9B%B4%E6%96%B0%E9%9D%A2%E6%9D%BF%E6%98%BE%E7%A4%BA%0A%20%20updatePanel()%3B%0A%0A%20%20console.log('%5B%E6%B8%85%E7%A9%BA%E7%89%8C%E8%B7%AF%5D%20%E5%B7%B2%E6%B8%85%E7%A9%BA%E5%8E%86%E5%8F%B2%E5%92%8C%E6%89%80%E6%9C%89%E7%89%8C%E8%B7%AF%E7%8A%B6%E6%80%81')%3B%0A%7D)%3B%0A%0A%2F%2F%20%E5%85%B3%E9%97%AD%E9%9D%A2%E6%9D%BF%E6%8C%89%E9%92%AE%E4%BA%8B%E4%BB%B6%0Adocument.getElementById('close-panel').addEventListener('click'%2C%20()%20%3D%3E%20%7B%0A%20%20document.getElementById('custom-panel').style.display%20%3D%20'none'%3B%0A%20%20console.log('%25c%E9%9D%A2%E6%9D%BF%E5%B7%B2%E9%9A%90%E8%97%8F%EF%BC%8C%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE%E5%B7%B2%E4%BF%9D%E7%95%99%E3%80%82%E5%86%8D%E6%AC%A1%E7%82%B9%E5%87%BB%E4%B9%A6%E7%AD%BE%E5%8F%AF%E9%87%8D%E6%96%B0%E6%98%BE%E7%A4%BA%E9%9D%A2%E6%9D%BF%E3%80%82'%2C%20'color%3A%20orange')%3B%0A%7D)%3B%0A%0A%2F%2F%20%E6%8A%98%E5%8F%A0%2F%E5%B1%95%E5%BC%80%E9%9D%A2%E6%9D%BF%E5%8A%9F%E8%83%BD%0Adocument.getElementById('toggle-panel').addEventListener('click'%2C%20()%20%3D%3E%20%7B%0A%20%20const%20panel%20%3D%20document.getElementById('custom-panel')%3B%0A%20%20const%20toggleBtn%20%3D%20document.getElementById('toggle-panel')%3B%0A%0A%20%20if%20(panel.classList.contains('collapsed'))%20%7B%0A%20%20%20%20%2F%2F%20%E5%B1%95%E5%BC%80%E9%9D%A2%E6%9D%BF%0A%20%20%20%20panel.classList.remove('collapsed')%3B%0A%20%20%20%20toggleBtn.textContent%20%3D%20'%E2%96%BC'%3B%0A%20%20%20%20console.log('%25c%E9%9D%A2%E6%9D%BF%E5%B7%B2%E5%B1%95%E5%BC%80'%2C%20'color%3A%20green')%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20%2F%2F%20%E6%94%B6%E8%B5%B7%E9%9D%A2%E6%9D%BF%0A%20%20%20%20panel.classList.add('collapsed')%3B%0A%20%20%20%20toggleBtn.textContent%20%3D%20'%E2%96%B2'%3B%0A%20%20%20%20console.log('%25c%E9%9D%A2%E6%9D%BF%E5%B7%B2%E6%94%B6%E8%B5%B7'%2C%20'color%3A%20orange')%3B%0A%20%20%7D%0A%7D)%3B%0A%0A%2F%2F%20%E5%88%9D%E5%A7%8B%E5%8C%96%E7%89%8C%E8%B7%AF%EF%BC%9A%E5%B0%9D%E8%AF%95%E5%8A%A0%E8%BD%BD%E4%BF%9D%E5%AD%98%E7%9A%84%E9%85%8D%E7%BD%AE%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%B2%A1%E6%9C%89%E5%88%99%E5%88%9B%E5%BB%BA%E9%BB%98%E8%AE%A4%E9%85%8D%E7%BD%AE%0Aconst%20savedData%20%3D%20loadPatterns()%3B%0Aif%20(savedData%20%26%26%20savedData.patterns%20%26%26%20savedData.patterns.length%20%3E%200)%20%7B%0A%20%20%2F%2F%20%E6%81%A2%E5%A4%8D%E4%BF%9D%E5%AD%98%E7%9A%84%E9%85%8D%E7%BD%AE%0A%20%20patternIdCounter%20%3D%20savedData.nextId%20%7C%7C%20savedData.patterns.length%3B%0A%0A%20%20savedData.patterns.forEach(pattern%20%3D%3E%20%7B%0A%20%20%20%20if%20(pattern.type%20%3D%3D%3D%20'preset')%20%7B%0A%20%20%20%20%20%20const%20config%20%3D%20PRESET_CONFIGS%5Bpattern.configIndex%20%7C%7C%200%5D%3B%0A%20%20%20%20%20%20if%20(config)%20%7B%0A%20%20%20%20%20%20%20%20createPresetPatternGroup(config%2C%20pattern)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20else%20if%20(pattern.type%20%3D%3D%3D%20'custom')%20%7B%0A%20%20%20%20%20%20createPattern(pattern)%3B%0A%20%20%20%20%7D%0A%20%20%7D)%3B%0A%0A%20%20console.log('%5B%E5%88%9D%E5%A7%8B%E5%8C%96%5D%20%E5%B7%B2%E6%81%A2%E5%A4%8D'%2C%20savedData.patterns.length%2C%20'%E4%B8%AA%E7%89%8C%E8%B7%AF')%3B%0A%7D%20else%20%7B%0A%20%20%2F%2F%20%E5%88%9B%E5%BB%BA%E9%BB%98%E8%AE%A4%E7%9A%84%E9%A2%84%E8%AE%BE%E7%BB%84%0A%20%20createPresetPatternGroup(PRESET_CONFIGS%5B0%5D)%3B%0A%20%20createPresetPatternGroup(PRESET_CONFIGS%5B1%5D)%3B%0A%20%20console.log('%5B%E5%88%9D%E5%A7%8B%E5%8C%96%5D%20%E5%B7%B2%E5%88%9B%E5%BB%BA%E9%BB%98%E8%AE%A4%E9%A2%84%E8%AE%BE%E7%BB%84')%3B%0A%7D%0A%0A%0A%7D)()%3B